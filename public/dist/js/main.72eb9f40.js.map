{"version":3,"sources":["webpack:///./src/views/main/subMenu.vue?b3ea","webpack:///src/views/main/subMenu.vue","webpack:///./src/views/main/subMenu.vue?9ff3","webpack:///./src/views/main/subMenu.vue","webpack:///./src/views/main/main.vue?81d8","webpack:///src/views/main/main.vue","webpack:///./src/views/main/main.vue?a60f","webpack:///./src/views/main/main.vue","webpack:///./src/views/main/mainSideMenu.vue?5edc","webpack:///src/views/main/mainSideMenu.vue","webpack:///./src/views/main/mainSideMenu.vue?0b36","webpack:///./src/views/main/mainSideMenu.vue","webpack:///./src/views/main/mainContent.vue?af4c","webpack:///src/views/main/mainContent.vue","webpack:///./src/views/main/mainContent.vue?ae54","webpack:///./src/views/main/mainContent.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","menu","children","length","attrs","index","id","popper-append-to-body","slot","icon","_v","_s","label","_l","item","key","staticRenderFns","subMenuvue_type_script_lang_js_","name","props","type","Object","required","main_subMenuvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","directives","rawName","value","expression","modifiers","fullscreen","lock","staticClass","class","collapse","isCollapse","opacity0","loading","element-loading-text","$t","mainvue_type_script_lang_js_","components","MainHeader","mainHeader","MainContent","mainContent","MainSideMenu","mainSideMenu","watch","$route","beforeRouteEnter","to","from","next","vm","routeHandle","beforeRouteLeave","setMenuActiveIndex","data","created","_this","windowResizeHandle","getUserInfo","then","catch","js_cookie_default","a","remove","$router","replace","computed","objectSpread","vuex_esm","methods","_this2","toggleCollapse","document","body","clientWidth","window","addEventListener","debounce_default","meta","openMode","tab","tabs","find","path","params","query","addTab","setTabsActiveName","main_mainvue_type_script_lang_js_","dark","sideMenuDarkSkin","ref","collapse-transition","default-active","menuActiveIndex","on","select","selectMenuHandle","refInFor","mainSideMenuvue_type_script_lang_js_","SubMenu","subMenu","n","$refs","activeIndex","menuId","findMenuItem","menuData","push","routerPath","menus","i","main_mainSideMenuvue_type_script_lang_js_","size","trigger","command","handleCommand","tabActiveName","tab-click","tabSelectedHandle","tab-remove","removeTab","iframe-wrapper","isIframe","closable","_e","staticStyle","border","src","resourceUrl","width","height","tabRouterKey","mainContentvue_type_script_lang_js_","removeOtherTabs","removeAllTabs","filter","tabName","nowTabIndex","updateTabs","main_mainContentvue_type_script_lang_js_"],"mappings":"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","file":"js/main.72eb9f40.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.menu.children && _vm.menu.children.length)?_c('el-submenu',{attrs:{\"index\":_vm.menu.id,\"popper-append-to-body\":false}},[_c('template',{slot:\"title\"},[_c('svg-icon',{attrs:{\"icon\":_vm.menu.icon||'tag'}}),_c('span',[_vm._v(_vm._s(_vm.menu.label))])],1),_vm._l((_vm.menu.children),function(item){return _c('sub-menu',{key:item.id,attrs:{\"menu\":item}})})],2):_c('el-menu-item',{attrs:{\"index\":_vm.menu.id}},[_c('svg-icon',{attrs:{\"icon\":_vm.menu.icon||'tag'}}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.menu.label))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-submenu v-if=\"menu.children && menu.children.length\" :index=\"menu.id\" :popper-append-to-body=\"false\">\r\n    <template slot=\"title\">\r\n      <svg-icon :icon=\"menu.icon||'tag'\"/>\r\n      <span>{{ menu.label }}</span>\r\n    </template>\r\n    <sub-menu v-for=\"item in menu.children\" :key=\"item.id\" :menu=\"item\"></sub-menu>\r\n  </el-submenu>\r\n  <el-menu-item v-else :index=\"menu.id\">\r\n    <svg-icon :icon=\"menu.icon||'tag'\"/>\r\n    <span slot=\"title\">{{ menu.label }}</span>\r\n  </el-menu-item>\r\n</template>\r\n\r\n<script>\r\n  /**\r\n   * Created by bigBigSir on 2019/4/3\r\n   */\r\n\r\n  export default {\r\n    name: 'subMenu',\r\n    props: {\r\n      menu: {\r\n        type: Object,\r\n        required: true\r\n      }\r\n    }\r\n  }\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./subMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./subMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./subMenu.vue?vue&type=template&id=6a2acf56&\"\nimport script from \"./subMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./subMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.loading),expression:\"loading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],staticClass:\"main-container reset-element-ui clearfix\",class:{collapse:_vm.isCollapse,opacity0:_vm.loading},attrs:{\"id\":\"main\",\"element-loading-text\":_vm.$t('loading')}},[_c('MainHeader'),_c('MainSideMenu'),_c('MainContent')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"main\"\r\n       v-loading.fullscreen.lock=\"loading\"\r\n       :class=\"{collapse:isCollapse,opacity0:loading}\"\r\n       :element-loading-text=\"$t('loading')\"\r\n       class=\"main-container reset-element-ui clearfix\">\r\n    <MainHeader></MainHeader>\r\n    <MainSideMenu></MainSideMenu>\r\n    <MainContent></MainContent>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  /**\r\n   * Created by bigBigSir on 2019/3/28\r\n   */\r\n  import cookies from 'js-cookie'\r\n  import MainHeader from './mainHeader.vue'\r\n  import MainContent from './mainContent.vue'\r\n  import MainSideMenu from './mainSideMenu.vue'\r\n  import debounce from 'lodash/debounce'\r\n  import { mapState, mapMutations, mapActions } from 'vuex'\r\n\r\n  export default {\r\n    name: 'mainPage',\r\n    components: {\r\n      MainHeader,\r\n      MainContent,\r\n      MainSideMenu\r\n    },\r\n    watch: {\r\n      $route: 'routeHandle'\r\n    },\r\n    beforeRouteEnter (to, from, next) {\r\n      // 进入页面初始化当前路由tab\r\n      next(vm => {\r\n        vm.routeHandle(to)\r\n      })\r\n    },\r\n    beforeRouteLeave (to, from, next) {\r\n      // 离开页面清空当前菜单选中项标识\r\n      this.setMenuActiveIndex(null)\r\n      next()\r\n    },\r\n    data () {\r\n      return {\r\n        loading: true\r\n      }\r\n    },\r\n    created () {\r\n      this.windowResizeHandle()\r\n      this.getUserInfo().then(() => {\r\n        this.loading = false\r\n      }).catch(() => {\r\n        cookies.remove('token')\r\n        this.$router.replace('/login')\r\n      })\r\n    },\r\n    computed: {\r\n      ...mapState('main', ['tabs', 'isCollapse'])\r\n    },\r\n    methods: {\r\n      ...mapActions(['getUserInfo']),\r\n      ...mapMutations('main', [\r\n        'addTab',\r\n        'toggleCollapse',\r\n        'setMenuActiveIndex',\r\n        'setTabsActiveName'\r\n      ]),\r\n      // 监听窗口大小改变\r\n      windowResizeHandle () {\r\n        this.toggleCollapse(document.body.clientWidth < 1000)\r\n        window.addEventListener('resize', debounce(() => {\r\n          this.toggleCollapse(document.body.clientWidth < 1000)\r\n        }, 200))\r\n      },\r\n      // 主页下路由变化的处理方法\r\n      routeHandle (to) {\r\n        this.setMenuActiveIndex(to.meta.id)\r\n        if (to.meta.openMode !== 'tab') return false\r\n        let tab = this.tabs.find(item => item.name === to.name)\r\n        if (!tab) {\r\n          tab = {\r\n            ...to.meta,\r\n            'path': to.path,\r\n            'name': to.name,\r\n            'params': { ...to.params },\r\n            'query': { ...to.query }\r\n          }\r\n          this.addTab(tab)\r\n        }\r\n        this.setTabsActiveName(to.name)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=7b23d8e2&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"main-side-menu fl\",class:{'dark':_vm.sideMenuDarkSkin}},[_c('el-scrollbar',[_c('el-menu',{ref:\"menu\",staticClass:\"side-menu-root\",attrs:{\"collapse\":_vm.isCollapse,\"collapse-transition\":false,\"default-active\":_vm.menuActiveIndex},on:{\"select\":_vm.selectMenuHandle}},_vm._l((_vm.menuData),function(menu){return _c('SubMenu',{key:menu.id,ref:\"el_menu\",refInFor:true,attrs:{\"menu\":menu}})}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <aside :class=\"{'dark':sideMenuDarkSkin}\" class=\"main-side-menu fl\">\r\n    <el-scrollbar>\r\n      <el-menu\r\n        ref=\"menu\"\r\n        @select=\"selectMenuHandle\"\r\n        :collapse=\"isCollapse\"\r\n        :collapse-transition=\"false\"\r\n        class=\"side-menu-root\"\r\n        :default-active=\"menuActiveIndex\">\r\n        <SubMenu ref=\"el_menu\" v-for=\"menu in menuData\" :key=\"menu.id\" :menu=\"menu\"></SubMenu>\r\n      </el-menu>\r\n    </el-scrollbar>\r\n  </aside>\r\n</template>\r\n\r\n<script>\r\n  /**\r\n   * Created by bigBigSir on 2019/3/28\r\n   */\r\n  import SubMenu from './subMenu.vue'\r\n  import { mapState } from 'vuex'\r\n\r\n  export default {\r\n    name: 'mainSideMenu',\r\n    components: { SubMenu },\r\n    data () {\r\n      return {}\r\n    },\r\n    created () {\r\n    },\r\n    watch: {\r\n      menuActiveIndex: function (n) {\r\n        if (n === null) this.$refs.menu.activeIndex = n\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState(['menuData']),\r\n      ...mapState('main', [\r\n        'menuKey',\r\n        'isCollapse',\r\n        'menuActiveIndex',\r\n        'sideMenuDarkSkin'\r\n      ])\r\n    },\r\n    methods: {\r\n      // 点击菜单项时触发\r\n      selectMenuHandle (menuId) {\r\n        let menu = this.findMenuItem(this.menuData, menuId)\r\n        if (menu) this.$router.push(menu.routerPath)\r\n      },\r\n      // 依据菜单ID在菜单数据中查找该项菜单\r\n      findMenuItem (menus, menuId) {\r\n        let menu = null\r\n        for (let i = menus.length; i--;) {\r\n          if (menus[i].id === menuId) {\r\n            menu = menus[i]\r\n            break\r\n          }\r\n          if (menus[i].children && menus[i].children.length) {\r\n            menu = this.findMenuItem(menus[i].children, menuId)\r\n          }\r\n        }\r\n        return menu\r\n      }\r\n    }\r\n  }\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainSideMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainSideMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mainSideMenu.vue?vue&type=template&id=91d106b6&\"\nimport script from \"./mainSideMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./mainSideMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"main-content\"},[_c('div',{staticClass:\"main-content-inner\"},[(_vm.$route.meta.openMode==='tab')?[_c('el-dropdown',{staticClass:\"tabs-tools cursor-pr\",attrs:{\"size\":\"medium\",\"trigger\":\"click\"},on:{\"command\":_vm.handleCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_c('svg-icon',{attrs:{\"icon\":\"menu\"}})],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"now\"}},[_c('svg-icon',{attrs:{\"icon\":\"flag\"}}),_vm._v(\" \"+_vm._s(_vm.$t('tabsHandle.closeCurrent'))+\"\\n          \")],1),_c('el-dropdown-item',{attrs:{\"command\":\"other\"}},[_c('svg-icon',{attrs:{\"icon\":\"tag\"}}),_vm._v(\" \"+_vm._s(_vm.$t('tabsHandle.closeOther'))+\"\\n          \")],1),_c('el-dropdown-item',{attrs:{\"command\":\"all\"}},[_c('svg-icon',{attrs:{\"icon\":\"tags\"}}),_vm._v(\" \"+_vm._s(_vm.$t('tabsHandle.closeAll'))+\"\\n          \")],1)],1)],1),_c('el-tabs',{staticClass:\"main-content-tabs\",attrs:{\"value\":_vm.tabActiveName},on:{\"tab-click\":_vm.tabSelectedHandle,\"tab-remove\":_vm.removeTab}},_vm._l((_vm.tabs),function(tab){return _c('el-tab-pane',{key:tab.name,class:{'iframe-wrapper':tab.isIframe},attrs:{\"name\":tab.name,\"closable\":tab.name!=='sys_home'}},[_c('template',{slot:\"label\"},[(tab.icon)?_c('svg-icon',{attrs:{\"icon\":tab.icon}}):_vm._e(),_vm._v(\"\\n            \"+_vm._s(tab.name!=='sys_home'?tab.label:'')+\"\\n          \")],1),(tab.isIframe)?[_c('iframe',{staticStyle:{\"border\":\"none\"},attrs:{\"src\":tab.resourceUrl,\"width\":\"100%\",\"height\":\"100%\"}})]:[_c('el-scrollbar',{staticClass:\"b-r-small\"},[(tab.name===_vm.tabActiveName)?_c('router-view',{key:_vm.tabRouterKey}):_vm._e()],1)]],2)}),1)]:(_vm.$route.meta.openMode==='home')?[(_vm.$route.meta.isIframe)?[_c('iframe',{staticStyle:{\"border\":\"none\"},attrs:{\"src\":_vm.$route.meta.resourceUrl,\"width\":\"100%\",\"height\":\"100%\"}})]:[_c('el-scrollbar',{staticClass:\"b-r-small\"},[_c('router-view',{key:_vm.tabRouterKey})],1)]]:_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <main class=\"main-content\">\r\n    <div class=\"main-content-inner\">\r\n      <template v-if=\"$route.meta.openMode==='tab'\">\r\n        <el-dropdown @command=\"handleCommand\" size=\"medium\" class=\"tabs-tools cursor-pr\" trigger=\"click\">\r\n        <span class=\"el-dropdown-link\">\r\n          <svg-icon icon=\"menu\"/>\r\n        </span>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item command=\"now\">\r\n              <svg-icon icon=\"flag\"/>&nbsp;{{$t('tabsHandle.closeCurrent')}}\r\n            </el-dropdown-item>\r\n            <el-dropdown-item command=\"other\">\r\n              <svg-icon icon=\"tag\"/>&nbsp;{{$t('tabsHandle.closeOther')}}\r\n            </el-dropdown-item>\r\n            <el-dropdown-item command=\"all\">\r\n              <svg-icon icon=\"tags\"/>&nbsp;{{$t('tabsHandle.closeAll')}}\r\n            </el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n        <el-tabs :value=\"tabActiveName\" @tab-click=\"tabSelectedHandle\" @tab-remove=\"removeTab\"\r\n                 class=\"main-content-tabs\">\r\n          <el-tab-pane\r\n            v-for=\"tab in tabs\"\r\n            :key=\"tab.name\"\r\n            :name=\"tab.name\"\r\n            :closable=\"tab.name!=='sys_home'\"\r\n            :class=\"{'iframe-wrapper':tab.isIframe}\">\r\n            <template slot=\"label\">\r\n              <svg-icon v-if=\"tab.icon\" :icon=\"tab.icon\"/>\r\n              {{tab.name!=='sys_home'?tab.label:''}}\r\n            </template>\r\n            <template v-if=\"tab.isIframe\">\r\n              <iframe :src=\"tab.resourceUrl\" width=\"100%\" height=\"100%\" style=\"border: none;\"></iframe>\r\n            </template>\r\n            <template v-else>\r\n              <el-scrollbar class=\"b-r-small\">\r\n                <router-view :key=\"tabRouterKey\" v-if=\"tab.name===tabActiveName\"/>\r\n              </el-scrollbar>\r\n            </template>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </template>\r\n      <template v-else-if=\"$route.meta.openMode==='home'\">\r\n        <template v-if=\"$route.meta.isIframe\">\r\n          <iframe :src=\"$route.meta.resourceUrl\" width=\"100%\" height=\"100%\" style=\"border: none;\"></iframe>\r\n        </template>\r\n        <template v-else>\r\n          <el-scrollbar class=\"b-r-small\">\r\n            <router-view :key=\"tabRouterKey\"/>\r\n          </el-scrollbar>\r\n        </template>\r\n      </template>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\n  /**\r\n   * Created by bigBigSir on 2019/3/28\r\n   */\r\n  import { mapState, mapMutations } from 'vuex'\r\n\r\n  export default {\r\n    name: 'mainContent',\r\n    data () {\r\n      return {}\r\n    },\r\n    computed: {\r\n      ...mapState('main', ['tabs', 'tabActiveName', 'tabRouterKey', 'isCollapse'])\r\n    },\r\n    methods: {\r\n      ...mapMutations('main', ['updateTabs', 'setTabsActiveName']),\r\n      handleCommand (command) {\r\n        if (command === 'now') {\r\n          this.removeTab(this.tabActiveName)\r\n        } else if (command === 'other') {\r\n          this.removeOtherTabs()\r\n        } else {\r\n          this.removeAllTabs()\r\n        }\r\n      },\r\n      // 选中tab事件\r\n      tabSelectedHandle (tab) {\r\n        if (tab.name === this.tabActiveName) return\r\n        tab = this.tabs.filter(item => item.name === tab.name)[0]\r\n        if (tab) {\r\n          this.$router.push({\r\n            'name': tab.name,\r\n            'params': { ...tab.params },\r\n            'query': { ...tab.query }\r\n          })\r\n        }\r\n      },\r\n      // tabs, 删除当前tab\r\n      removeTab (tabName) {\r\n        let nowTabIndex = null\r\n        if (tabName === 'sys_home') return false\r\n        let tabs = this.tabs.filter((item, index) => {\r\n          if (item.name === tabName) nowTabIndex = index\r\n          return item.name !== tabName\r\n        })\r\n        this.updateTabs(tabs)\r\n        if (nowTabIndex !== this.tabs.length - 1) {\r\n          nowTabIndex = nowTabIndex - 1\r\n        }\r\n        this.$router.push({\r\n          name: this.tabs[nowTabIndex].name,\r\n          query: { ...this.tabs[nowTabIndex].query },\r\n          params: { ...this.tabs[nowTabIndex].params }\r\n        })\r\n      },\r\n      // tabs, 关闭其它\r\n      removeOtherTabs () {\r\n        this.updateTabs(this.tabs.filter(item => {\r\n          return item.name === 'sys_home' || item.name === this.tabActiveName\r\n        }))\r\n      },\r\n      // tabs, 关闭全部\r\n      removeAllTabs () {\r\n        this.updateTabs(this.tabs.filter(item => item.name === 'sys_home'))\r\n        this.$router.push({\r\n          name: 'sys_home',\r\n          query: { ...this.tabs[0].query },\r\n          params: { ...this.tabs[0].params }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mainContent.vue?vue&type=template&id=6c7f5dc0&\"\nimport script from \"./mainContent.vue?vue&type=script&lang=js&\"\nexport * from \"./mainContent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}