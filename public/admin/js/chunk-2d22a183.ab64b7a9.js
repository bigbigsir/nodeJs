(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22a183"],{dff1:function(t,e,i){"use strict";i.r(e);i("d81d"),i("d3b7");var n=i("ade3"),a=i("5530");function s(){var t=this;this.$message({message:this.$t("prompt.success"),type:"success",duration:1e3,showClose:!0,onClose:function(){t.getListData()}})}var r={data:function(){return{mixinConfig:{activatedAutoRequest:!0,getListDataURL:null,getListDataIsPage:!1,deleteURL:null,isBatchDelete:!1,batchDeleteKey:"id",getDetailsURL:null,updateStatusURL:null,updateSortURL:null,exportURL:null},listData:[],queryParams:{},page:1,pageSize:10,total:0,order:null,orderField:null,getDataLoading:!1,isRenderDialog:!1,listSelections:[]}},created:function(){this.mixinConfig.activatedAutoRequest&&this.getListData()},methods:{getListData:function(){var t=this,e=this.mixinConfig.getListDataURL,i=Object(a["a"])({order:this.order,orderField:this.orderField,page:this.mixinConfig.getListDataIsPage?this.page:null,pageSize:this.mixinConfig.getListDataIsPage?this.pageSize:null},this.queryParams);if(e){for(var n in this.getDataLoading=!0,i)i[n]||delete i[n];return this.$http.get(e,i).then((function(e){var i=e.ok,n=e.data,a=e.msg;return t.getDataLoading=!1,i?(t.listData=t.mixinConfig.getListDataIsPage&&n.rows?n.rows:n,t.total=t.mixinConfig.getListDataIsPage?n.total:0,t.getListDataAfter(t.listData),n):(t.$message.error(a),Promise.reject(a))})).catch((function(){t.getDataLoading=!1}))}},selectionChangeHandle:function(t){this.listSelections=t},handlePageSizeChange:function(t){this.page=this.total/t>=this.page?this.page:0,this.pageSize=t,this.getListData()},handleCurrentPageChange:function(t){this.page=t,this.getListData()},addOrUpdateHandle:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isRenderDialog=!0,this.$nextTick((function(){t.$refs.addOrUpdate.visible=!0,t.$refs.addOrUpdate.formData.id=e}))},deleteHandle:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",a=this.$t("prompt.title"),r=this.$t("prompt.info",{handle:this.$t("delete")}),o={confirmButtonText:this.$t("confirm"),cancelButtonText:this.$t("cancel"),type:"warning"},h=this.mixinConfig.deleteURL;if(h)return e||!this.mixinConfig.isBatchDelete||this.listSelections.length?(e=!e&&this.mixinConfig.isBatchDelete?this.listSelections.map((function(e){return e[t.mixinConfig.batchDeleteKey]})):e,this.$confirm(r,a,o).then((function(){return t.$http.delete(h,Object(n["a"])({},i,e)).then((function(e){var i=e.ok,n=e.msg,a=void 0===n?"error":n;return i?(s.call(t),!0):(t.$message.error(a),Promise.reject(a))}))})).catch((function(){return!1}))):this.$message({message:this.$t("prompt.deleteSelect"),type:"warning",duration:1e3})},updateStatus:function(t,e,i,a){var r,o=this,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"put",l=this.$t("prompt.title"),c=this.$t("prompt.info",{handle:this.$t("update")}),u={confirmButtonText:this.$t("confirm"),cancelButtonText:this.$t("cancel"),type:"warning"},g=this.mixinConfig.updateStatusURL,d=(r={},Object(n["a"])(r,t,e),Object(n["a"])(r,i,a),r);if(g)return this.$confirm(c,l,u).then((function(){return o.$http[h](g,d).then((function(t){var e=t.ok,i=t.msg,n=void 0===i?"error":i;return e?(s.call(o),!0):(o.$message.error(n),Promise.reject(n))}))})).catch((function(){return o.getListData(),!1}))},updateSort:function(t,e,i,a){var r,o=this,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"put",l=this.mixinConfig.updateSortURL,c=(r={},Object(n["a"])(r,t,e),Object(n["a"])(r,i,a),r);if(l)return this.$http[h](l,c).then((function(t){var e=t.ok,i=t.msg,n=void 0===i?"error":i;return e?(s.call(o),!0):(o.$message.error(n),Promise.reject(n))})).catch((function(){return o.getListData(),!1}))},sortChangeHandle:function(t){"asc"===this.order&&"desc"===this.order&&this.orderField&&this.getListData()},getListDataAfter:function(){return null}}};e["default"]=r}}]);
//# sourceMappingURL=chunk-2d22a183.ab64b7a9.js.map