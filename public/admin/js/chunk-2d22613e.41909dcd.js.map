{"version":3,"sources":["webpack:///./src/views/main/mainContent.vue?82f0","webpack:///src/views/main/mainContent.vue","webpack:///./src/views/main/mainContent.vue?ae54","webpack:///./src/views/main/mainContent.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","$route","meta","openMode","attrs","on","handleCommand","slot","_v","_s","$t","tabActiveName","tabSelectedHandle","removeTab","_l","tab","key","name","class","isIframe","icon","_e","label","staticStyle","resourceUrl","tabRouterKey","staticRenderFns","data","computed","methods","command","removeOtherTabs","removeAllTabs","tabs","filter","$router","push","params","query","tabName","item","nowTabIndex","index","updateTabs","length","component"],"mappings":"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","file":"js/chunk-2d22613e.41909dcd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"main-content\"},[_c('div',{staticClass:\"main-content-inner\"},[(_vm.$route.meta.openMode==='tab')?[_c('el-dropdown',{staticClass:\"tabs-tools cursor-pr\",attrs:{\"size\":\"medium\",\"trigger\":\"click\"},on:{\"command\":_vm.handleCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_c('svg-icon',{attrs:{\"icon\":\"menu\"}})],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"now\"}},[_c('svg-icon',{attrs:{\"icon\":\"flag\"}}),_vm._v(\" \"+_vm._s(_vm.$t('tabsHandle.closeCurrent'))+\" \")],1),_c('el-dropdown-item',{attrs:{\"command\":\"other\"}},[_c('svg-icon',{attrs:{\"icon\":\"tag\"}}),_vm._v(\" \"+_vm._s(_vm.$t('tabsHandle.closeOther'))+\" \")],1),_c('el-dropdown-item',{attrs:{\"command\":\"all\"}},[_c('svg-icon',{attrs:{\"icon\":\"tags\"}}),_vm._v(\" \"+_vm._s(_vm.$t('tabsHandle.closeAll'))+\" \")],1)],1)],1),_c('el-tabs',{staticClass:\"main-content-tabs\",attrs:{\"value\":_vm.tabActiveName},on:{\"tab-click\":_vm.tabSelectedHandle,\"tab-remove\":_vm.removeTab}},_vm._l((_vm.tabs),function(tab){return _c('el-tab-pane',{key:tab.name,class:{'iframe-wrapper':tab.isIframe},attrs:{\"name\":tab.name,\"closable\":tab.name!=='sys_home'}},[_c('template',{slot:\"label\"},[(tab.icon)?_c('svg-icon',{attrs:{\"icon\":tab.icon}}):_vm._e(),_vm._v(\" \"+_vm._s(tab.name!=='sys_home'?tab.label:'')+\" \")],1),(tab.isIframe)?[_c('iframe',{staticStyle:{\"border\":\"none\"},attrs:{\"src\":tab.resourceUrl,\"width\":\"100%\",\"height\":\"100%\"}})]:[_c('el-scrollbar',{staticClass:\"b-r-small\"},[(tab.name===_vm.tabActiveName)?_c('router-view',{key:_vm.tabRouterKey}):_vm._e()],1)]],2)}),1)]:(_vm.$route.meta.openMode==='home')?[(_vm.$route.meta.isIframe)?[_c('iframe',{staticStyle:{\"border\":\"none\"},attrs:{\"src\":_vm.$route.meta.resourceUrl,\"width\":\"100%\",\"height\":\"100%\"}})]:[_c('el-scrollbar',{staticClass:\"b-r-small\"},[_c('router-view',{key:_vm.tabRouterKey})],1)]]:_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <main class=\"main-content\">\n    <div class=\"main-content-inner\">\n      <template v-if=\"$route.meta.openMode==='tab'\">\n        <el-dropdown @command=\"handleCommand\" size=\"medium\" class=\"tabs-tools cursor-pr\" trigger=\"click\">\n        <span class=\"el-dropdown-link\">\n          <svg-icon icon=\"menu\"/>\n        </span>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item command=\"now\">\n              <svg-icon icon=\"flag\"/>&nbsp;{{$t('tabsHandle.closeCurrent')}}\n            </el-dropdown-item>\n            <el-dropdown-item command=\"other\">\n              <svg-icon icon=\"tag\"/>&nbsp;{{$t('tabsHandle.closeOther')}}\n            </el-dropdown-item>\n            <el-dropdown-item command=\"all\">\n              <svg-icon icon=\"tags\"/>&nbsp;{{$t('tabsHandle.closeAll')}}\n            </el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n        <el-tabs :value=\"tabActiveName\" @tab-click=\"tabSelectedHandle\" @tab-remove=\"removeTab\"\n                 class=\"main-content-tabs\">\n          <el-tab-pane\n              v-for=\"tab in tabs\"\n              :key=\"tab.name\"\n              :name=\"tab.name\"\n              :closable=\"tab.name!=='sys_home'\"\n              :class=\"{'iframe-wrapper':tab.isIframe}\">\n            <template slot=\"label\">\n              <svg-icon v-if=\"tab.icon\" :icon=\"tab.icon\"/>\n              {{tab.name!=='sys_home'?tab.label:''}}\n            </template>\n            <template v-if=\"tab.isIframe\">\n              <iframe :src=\"tab.resourceUrl\" width=\"100%\" height=\"100%\" style=\"border: none;\"></iframe>\n            </template>\n            <template v-else>\n              <el-scrollbar class=\"b-r-small\">\n                <router-view :key=\"tabRouterKey\" v-if=\"tab.name===tabActiveName\"/>\n              </el-scrollbar>\n            </template>\n          </el-tab-pane>\n        </el-tabs>\n      </template>\n      <template v-else-if=\"$route.meta.openMode==='home'\">\n        <template v-if=\"$route.meta.isIframe\">\n          <iframe :src=\"$route.meta.resourceUrl\" width=\"100%\" height=\"100%\" style=\"border: none;\"></iframe>\n        </template>\n        <template v-else>\n          <el-scrollbar class=\"b-r-small\">\n            <router-view :key=\"tabRouterKey\"/>\n          </el-scrollbar>\n        </template>\n      </template>\n    </div>\n  </main>\n</template>\n\n<script>\n/**\n * Created by bigBigSir on 2019/3/28\n */\nimport { mapState, mapMutations } from 'vuex'\n\nexport default {\n  name: 'mainContent',\n  data () {\n    return {}\n  },\n  computed: {\n    ...mapState('main', ['tabs', 'tabActiveName', 'tabRouterKey', 'isCollapse'])\n  },\n  methods: {\n    ...mapMutations('main', ['updateTabs', 'setTabsActiveName']),\n    handleCommand (command) {\n      if (command === 'now') {\n        this.removeTab(this.tabActiveName)\n      } else if (command === 'other') {\n        this.removeOtherTabs()\n      } else {\n        this.removeAllTabs()\n      }\n    },\n    // 选中tab事件\n    tabSelectedHandle (tab) {\n      if (tab.name === this.tabActiveName) return\n      tab = this.tabs.filter(item => item.name === tab.name)[0]\n      if (tab) {\n        this.$router.push({\n          name: tab.name,\n          params: { ...tab.params },\n          query: { ...tab.query }\n        })\n      }\n    },\n    // tabs, 删除当前tab\n    removeTab (tabName) {\n      let nowTabIndex = null\n      if (tabName === 'sys_home') return false\n      const tabs = this.tabs.filter((item, index) => {\n        if (item.name === tabName) nowTabIndex = index\n        return item.name !== tabName\n      })\n      this.updateTabs(tabs)\n      if (nowTabIndex !== this.tabs.length - 1) {\n        nowTabIndex = nowTabIndex - 1\n      }\n      this.$router.push({\n        name: this.tabs[nowTabIndex].name,\n        query: { ...this.tabs[nowTabIndex].query },\n        params: { ...this.tabs[nowTabIndex].params }\n      })\n    },\n    // tabs, 关闭其它\n    removeOtherTabs () {\n      this.updateTabs(this.tabs.filter(item => {\n        return item.name === 'sys_home' || item.name === this.tabActiveName\n      }))\n    },\n    // tabs, 关闭全部\n    removeAllTabs () {\n      this.updateTabs(this.tabs.filter(item => item.name === 'sys_home'))\n      this.$router.push({\n        name: 'sys_home',\n        query: { ...this.tabs[0].query },\n        params: { ...this.tabs[0].params }\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mainContent.vue?vue&type=template&id=1109da10&\"\nimport script from \"./mainContent.vue?vue&type=script&lang=js&\"\nexport * from \"./mainContent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}