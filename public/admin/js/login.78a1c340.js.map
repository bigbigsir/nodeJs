{"version":3,"sources":["webpack:///./src/views/pages/login.vue?f6fd","webpack:///./src/components/LanguageSelect.vue?6de2","webpack:///src/components/LanguageSelect.vue","webpack:///./src/components/LanguageSelect.vue?006e","webpack:///./src/components/LanguageSelect.vue","webpack:///./src/views/pages/login.vue?4114","webpack:///src/views/pages/login.vue","webpack:///./src/views/pages/login.vue?69c9","webpack:///./src/views/pages/login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","handleLangSelect","staticClass","_t","slot","_l","val","key","$i18n","locale","_v","_s","_lang","staticRenderFns","name","data","messages","methods","lang","$message","type","message","$t","duration","localStorage","setItem","component","ref","formData","formRules","nativeOn","$event","indexOf","_k","keyCode","submitHandle","model","value","callback","$$v","$set","expression","$refs","captcha","focus","refreshCaptcha","captchaUrl","submitLoading","_m","components","LanguageSelect","beforeRouteEnter","query","params","from","nextTarget","path","next","vm","uuid","username","password","computed","$store","state","baseUrl","required","trigger","created","commit","leading","trailing","encrypt","crypto","setPublicKey","plaintext","submitForm","$http","post","then","ok","token","Promise","reject","msg","signUp","form","validate","valid"],"mappings":"0HAAA,yBAAujB,EAAG,G,gECA1jB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,MAAM,CAAC,QAAU,QAAQ,KAAO,SAAS,UAAY,UAAUC,GAAG,CAAC,QAAUP,EAAIQ,mBAAmB,CAACJ,EAAG,OAAO,CAACK,YAAY,WAAW,CAACT,EAAIU,GAAG,YAAY,GAAGN,EAAG,mBAAmB,CAACE,MAAM,CAAC,KAAO,YAAYK,KAAK,YAAYX,EAAIY,GAAIZ,EAAY,UAAE,SAASa,EAAIC,GAAK,OAAOV,EAAG,mBAAmB,CAACU,IAAIA,EAAIR,MAAM,CAAC,SAAWQ,IAAMd,EAAIe,MAAMC,OAAO,QAAUF,IAAM,CAACd,EAAIiB,GAAG,IAAIjB,EAAIkB,GAAGL,EAAIM,OAAO,UAAS,IAAI,IAChgBC,EAAkB,G,YCkBtB,GACEC,KAAM,iBACNC,KAFF,WAGI,MAAO,CACLC,SAAN,gBAGEC,QAAS,CAEPhB,iBAFJ,SAEA,GACMP,KAAKc,MAAMC,OAASS,EACpBxB,KAAKyB,SAAS,CACZC,KAAM,UACNC,QAAS3B,KAAK4B,GAAG,kBACjBC,SAAU,MAEZC,aAAaC,QAAQ,WAAYP,MCnCiT,I,YCOpVQ,EAAY,eACd,EACAlC,EACAqB,GACA,EACA,KACA,KACA,MAIa,aAAAa,E,kDClBf,IAAIlC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACK,YAAY,oCAAoC,CAACL,EAAG,MAAM,CAACK,YAAY,eAAe,CAACL,EAAG,MAAM,CAACK,YAAY,iBAAiB,CAACL,EAAG,MAAM,CAACK,YAAY,gBAAgB,CAACL,EAAG,KAAK,CAACK,YAAY,eAAe,CAACT,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAI6B,GAAG,oBAAoBzB,EAAG,MAAM,CAACK,YAAY,iCAAiC,CAACL,EAAG,KAAK,CAACK,YAAY,eAAe,CAACT,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAI6B,GAAG,gBAAgB,KAAKzB,EAAG,iBAAiB,CAACA,EAAG,YAAY,CAACK,YAAY,WAAWH,MAAM,CAAC,KAAO,SAAS,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,gBAAgB,IAAI,IAAI,GAAGF,EAAG,UAAU,CAAC8B,IAAI,OAAO5B,MAAM,CAAC,MAAQN,EAAImC,SAAS,MAAQnC,EAAIoC,UAAU,2BAA0B,EAAM,cAAc,IAAIC,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOX,KAAKY,QAAQ,QAAQvC,EAAIwC,GAAGF,EAAOG,QAAQ,QAAQ,GAAGH,EAAOxB,IAAI,SAAkB,KAAcd,EAAI0C,aAAaJ,MAAW,CAAClC,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,WAAW,KAAO,YAAY,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,UAAY,KAAK,YAAcN,EAAI6B,GAAG,kBAAkB,KAAO,WAAWc,MAAM,CAACC,MAAO5C,EAAImC,SAAiB,SAAEU,SAAS,SAAUC,GAAM9C,EAAI+C,KAAK/C,EAAImC,SAAU,WAAYW,IAAME,WAAW,sBAAsB,CAAC5C,EAAG,OAAO,CAACK,YAAY,wBAAwBH,MAAM,CAAC,KAAO,UAAUK,KAAK,UAAU,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,WAAW,MAAM,GAAGF,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,WAAW,KAAO,YAAY,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,UAAY,KAAK,YAAcN,EAAI6B,GAAG,kBAAkB,gBAAgB,GAAG,KAAO,UAAU,KAAO,YAAYc,MAAM,CAACC,MAAO5C,EAAImC,SAAiB,SAAEU,SAAS,SAAUC,GAAM9C,EAAI+C,KAAK/C,EAAImC,SAAU,WAAYW,IAAME,WAAW,sBAAsB,CAAC5C,EAAG,OAAO,CAACK,YAAY,wBAAwBH,MAAM,CAAC,KAAO,UAAUK,KAAK,UAAU,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,WAAW,MAAM,GAAGF,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,UAAU,KAAO,YAAY,CAACF,EAAG,WAAW,CAAC8B,IAAI,UAAUzB,YAAY,SAASH,MAAM,CAAC,UAAY,GAAG,UAAY,IAAI,YAAcN,EAAI6B,GAAG,iBAAiB,KAAO,WAAWtB,GAAG,CAAC,MAAQ,SAAS+B,GAAQ,OAAOtC,EAAIiD,MAAMC,QAAQC,UAAUR,MAAM,CAACC,MAAO5C,EAAImC,SAAgB,QAAEU,SAAS,SAAUC,GAAM9C,EAAI+C,KAAK/C,EAAImC,SAAU,UAAWW,IAAME,WAAW,qBAAqB,CAAC5C,EAAG,OAAO,CAACK,YAAY,wBAAwBH,MAAM,CAAC,KAAO,UAAUK,KAAK,UAAU,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,wBAAwB,KAAKF,EAAG,OAAO,CAACK,YAAY,6BAA6BF,GAAG,CAAC,MAAQP,EAAIoD,iBAAiB,CAAChD,EAAG,MAAM,CAACE,MAAM,CAAC,IAAMN,EAAIqD,WAAW,IAAMrD,EAAI6B,GAAG,uBAAuB,GAAGzB,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,YAAY,CAACF,EAAG,YAAY,CAACK,YAAY,OAAOH,MAAM,CAAC,QAAUN,EAAIsD,cAAc,KAAO,UAAU,KAAO,WAAW/C,GAAG,CAAC,MAAQP,EAAI0C,eAAe,CAAC1C,EAAIiB,GAAG,IAAIjB,EAAIkB,GAAGlB,EAAI6B,GAAG,gBAAgB,QAAQ,IAAI,IAAI,KAAKzB,EAAG,MAAM,CAACK,YAAY,gBAAgB,CAACL,EAAG,IAAI,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,iBAAiBF,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,iDAAiD,OAAS,WAAW,CAACN,EAAIiB,GAAG,uBAAuBb,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,sCAAsC,OAAS,WAAW,CAACN,EAAIiB,GAAG,aAAa,GAAGjB,EAAIuD,GAAG,UACjiGnC,EAAkB,CAAC,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,qCAAqC,IAAM,WAAW,OAAS,WAAW,CAACN,EAAIiB,GAAG,SAASb,EAAG,OAAO,CAACJ,EAAIiB,GAAG,8C,6IC0FrP,GACEI,KAAM,QACNmC,WAAY,CACVC,eAAJ,cAGEC,iBANF,SAMA,OACI,IAAJ,GACMC,MAAO,OAAb,OAAa,CAAb,YACMC,OAAQ,OAAd,OAAc,CAAd,cAOI,GALIC,EAAKxC,KACPyC,EAAWzC,KAAOwC,EAAKxC,KAEvByC,EAAWC,KAAOF,EAAKE,KAErB,EAAR,eACM,OAAOC,EAAKF,GAEdE,GAAK,SAAT,GACMC,EAAGH,WAAaA,MAGpBxC,KAvBF,WAwBI,MAAO,CACLwC,WAAY,IACZR,eAAe,EACfnB,SAAU,CACR+B,KAAM,OAAd,aAAc,GACNC,SAAU,GACVC,SAAU,GACVlB,QAAS,MAIfmB,SAAU,CACRhB,WADJ,WAEM,OAAOpD,KAAKqE,OAAOC,MAAMC,QAAU,yBAA2BvE,KAAKkC,SAAS+B,MAE9E9B,UAJJ,WAKM,IAAN,GACQqC,UAAU,EACV7C,QAAS3B,KAAK4B,GAAG,qBACjB6C,QAAS,CAAC,SAEZ,MAAO,CACLP,SAAU,CAACM,GACXL,SAAU,CAACK,GACXvB,QAAS,CAACuB,MAIhBE,QApDF,WAqDI1E,KAAKqE,OAAOM,OAAO,cAAe,OAEpCpD,QAAS,CAEP4B,eAAgB,KAApB,WACMnD,KAAKkC,SAAS+B,KAAO,OAA3B,aAA2B,KAC3B,KACMW,SAAS,EACTC,UAAU,IAGZC,QATJ,SASA,KACM,IAAN,UAEM,OADAC,EAAOC,aAAanE,GACbkE,EAAOD,QAAQG,IAGxBC,WAfJ,SAeA,cACA,mCAEM,OADAvB,EAAOQ,SAAWnE,KAAK8E,QAAQjE,EAAK8C,EAAOQ,UACpCnE,KAAKmF,MAAMC,KAAK,eAAgBzB,GAAQ0B,MAAK,SAA1D,gCACQ,IAAIC,IAAMC,EAIR,OAAOC,QAAQC,OAAOC,GAHtB,EAAV,6BACU,EAAV,kCAOIC,OA5BJ,SA4BA,GACM,OAAO3F,KAAKmF,MAAMC,KAAK,eAAgB,CACrClB,SAAU,SACVC,SAAUnE,KAAK8E,QAAQjE,EAAK,aAIhC4B,aAAc,KAAlB,sBACMzC,KAAKgD,MAAM4C,KAAKC,UAAS,SAA/B,GACYC,IACF,EAAV,iBACU,EAAV,6EACY,OAAIR,EACK,EAArB,cAEqBE,QAAQC,OAAOC,MAEpC,mBACY,EAAZ,iBACY,EAAZ,kBACY,EAAZ,0BAIA,KACMd,SAAS,EACTC,UAAU,MCxM8U,I,wBCQ1V7C,EAAY,eACd,EACAlC,EACAqB,GACA,EACA,KACA,WACA,MAIa,aAAAa,E","file":"js/login.78a1c340.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=41e292d7&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=41e292d7&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dropdown',{attrs:{\"trigger\":\"click\",\"size\":\"medium\",\"placement\":\"bottom\"},on:{\"command\":_vm.handleLangSelect}},[_c('span',{staticClass:\"trigger\"},[_vm._t(\"default\")],2),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.messages),function(val,key){return _c('el-dropdown-item',{key:key,attrs:{\"disabled\":key===_vm.$i18n.locale,\"command\":key}},[_vm._v(\" \"+_vm._s(val._lang)+\" \")])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dropdown @command=\"handleLangSelect\" trigger=\"click\" size=\"medium\" placement=\"bottom\">\n    <span class=\"trigger\">\n      <slot></slot>\n    </span>\n    <el-dropdown-menu slot=\"dropdown\">\n      <el-dropdown-item v-for=\"(val, key) in messages\" :disabled=\"key===$i18n.locale\" :key=\"key\" :command=\"key\">\n        {{ val._lang }}\n      </el-dropdown-item>\n    </el-dropdown-menu>\n  </el-dropdown>\n</template>\n\n<script>\n/**\n   * Created by bigBigSir on 2019/4/3\n   */\nimport { messages } from '../language/index'\n\nexport default {\n  name: 'LanguageSelect',\n  data () {\n    return {\n      messages\n    }\n  },\n  methods: {\n    // 语言选择\n    handleLangSelect (lang) {\n      this.$i18n.locale = lang\n      this.$message({\n        type: 'success',\n        message: this.$t('prompt.success'),\n        duration: 1000\n      })\n      localStorage.setItem('language', lang)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LanguageSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LanguageSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LanguageSelect.vue?vue&type=template&id=784f29d8&\"\nimport script from \"./LanguageSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./LanguageSelect.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-container reset-element-ui\"},[_c('div',{staticClass:\"login-inner\"},[_c('div',{staticClass:\"login-content\"},[_c('div',{staticClass:\"login-header\"},[_c('h1',{staticClass:\"login-brand\"},[_vm._v(_vm._s(_vm.$t('brand.name')))])]),_c('div',{staticClass:\"login-main b-r-small b-s-dark\"},[_c('h3',{staticClass:\"login-title\"},[_vm._v(_vm._s(_vm.$t('login.title'))+\" \"),_c('LanguageSelect',[_c('el-button',{staticClass:\"language\",attrs:{\"type\":\"text\"}},[_c('svg-icon',{attrs:{\"icon\":\"translate\"}})],1)],1)],1),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.formData,\"rules\":_vm.formRules,\"validate-on-rule-change\":false,\"status-icon\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitHandle($event)}}},[_c('el-form-item',{attrs:{\"prop\":\"username\",\"size\":\"default\"}},[_c('el-input',{attrs:{\"maxlength\":\"20\",\"placeholder\":_vm.$t('login.username'),\"size\":\"default\"},model:{value:(_vm.formData.username),callback:function ($$v) {_vm.$set(_vm.formData, \"username\", $$v)},expression:\"formData.username\"}},[_c('span',{staticClass:\"el-input__icon fs18px\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"},[_c('svg-icon',{attrs:{\"icon\":\"user\"}})],1)])],1),_c('el-form-item',{attrs:{\"prop\":\"password\",\"size\":\"default\"}},[_c('el-input',{attrs:{\"maxlength\":\"20\",\"placeholder\":_vm.$t('login.password'),\"show-password\":\"\",\"size\":\"default\",\"type\":\"password\"},model:{value:(_vm.formData.password),callback:function ($$v) {_vm.$set(_vm.formData, \"password\", $$v)},expression:\"formData.password\"}},[_c('span',{staticClass:\"el-input__icon fs18px\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"},[_c('svg-icon',{attrs:{\"icon\":\"lock\"}})],1)])],1),_c('el-form-item',{attrs:{\"prop\":\"captcha\",\"size\":\"default\"}},[_c('el-input',{ref:\"captcha\",staticClass:\"w200px\",attrs:{\"clearable\":\"\",\"maxlength\":\"4\",\"placeholder\":_vm.$t('login.captcha'),\"size\":\"default\"},on:{\"clear\":function($event){return _vm.$refs.captcha.focus()}},model:{value:(_vm.formData.captcha),callback:function ($$v) {_vm.$set(_vm.formData, \"captcha\", $$v)},expression:\"formData.captcha\"}},[_c('span',{staticClass:\"el-input__icon fs18px\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"},[_c('svg-icon',{attrs:{\"icon\":\"safetycertificate\"}})],1)]),_c('span',{staticClass:\"login-captcha cursor-pr fr\",on:{\"click\":_vm.refreshCaptcha}},[_c('img',{attrs:{\"src\":_vm.captchaUrl,\"alt\":_vm.$t('login.captcha')}})])],1),_c('el-form-item',{attrs:{\"size\":\"default\"}},[_c('el-button',{staticClass:\"w100\",attrs:{\"loading\":_vm.submitLoading,\"size\":\"default\",\"type\":\"primary\"},on:{\"click\":_vm.submitHandle}},[_vm._v(\" \"+_vm._s(_vm.$t('login.title'))+\" \")])],1)],1)],1)]),_c('div',{staticClass:\"login-footer\"},[_c('p',[_c('svg-icon',{attrs:{\"icon\":\"github-fill\"}}),_c('a',{attrs:{\"href\":\"https://github.com/bigbigsir/vue-element-admin\",\"target\":\"_blank\"}},[_vm._v(\"vue-element-admin\")]),_c('a',{attrs:{\"href\":\"https://github.com/bigbigsir/nodeJs\",\"target\":\"_blank\"}},[_vm._v(\"nodeJs\")])],1),_vm._m(0)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('a',{attrs:{\"href\":\"http://opensource.org/licenses/MIT\",\"rel\":\"nofollow\",\"target\":\"_blank\"}},[_vm._v(\"MIT\")]),_c('span',[_vm._v(\"Copyright (c) 2019-present bigBigSir\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login-container reset-element-ui\">\n    <div class=\"login-inner\">\n      <div class=\"login-content\">\n        <div class=\"login-header\">\n          <h1 class=\"login-brand\">{{ $t('brand.name') }}</h1>\n        </div>\n        <div class=\"login-main b-r-small b-s-dark\">\n          <h3 class=\"login-title\">{{ $t('login.title') }}\n            <LanguageSelect>\n              <el-button class=\"language\" type=\"text\">\n                <svg-icon icon=\"translate\"/>\n              </el-button>\n            </LanguageSelect>\n          </h3>\n          <el-form :model=\"formData\" @keyup.enter.native=\"submitHandle\" :rules=\"formRules\"\n                   :validate-on-rule-change=\"false\" ref=\"form\" status-icon>\n            <el-form-item prop=\"username\" size=\"default\">\n              <el-input maxlength=\"20\"\n                        :placeholder=\"$t('login.username')\"\n                        size=\"default\"\n                        v-model=\"formData.username\">\n              <span class=\"el-input__icon fs18px\" slot=\"prefix\">\n               <svg-icon icon=\"user\"/>\n              </span>\n              </el-input>\n            </el-form-item>\n            <el-form-item prop=\"password\" size=\"default\">\n              <el-input maxlength=\"20\"\n                        :placeholder=\"$t('login.password')\"\n                        show-password\n                        size=\"default\"\n                        type=\"password\"\n                        v-model=\"formData.password\">\n              <span class=\"el-input__icon fs18px\" slot=\"prefix\">\n                <svg-icon icon=\"lock\"/>\n              </span>\n              </el-input>\n            </el-form-item>\n            <el-form-item prop=\"captcha\" size=\"default\">\n              <el-input @clear=\"$refs.captcha.focus()\" class=\"w200px\"\n                        clearable\n                        maxlength=\"4\"\n                        :placeholder=\"$t('login.captcha')\"\n                        ref=\"captcha\"\n                        size=\"default\"\n                        v-model=\"formData.captcha\">\n              <span class=\"el-input__icon fs18px\" slot=\"prefix\">\n                <svg-icon icon=\"safetycertificate\"/>\n              </span>\n              </el-input>\n              <span @click=\"refreshCaptcha\" class=\"login-captcha cursor-pr fr\">\n              <img :src=\"captchaUrl\" :alt=\"$t('login.captcha')\">\n            </span>\n            </el-form-item>\n            <el-form-item size=\"default\">\n              <el-button @click=\"submitHandle\"\n                         :loading=\"submitLoading\"\n                         class=\"w100\" size=\"default\"\n                         type=\"primary\">\n                {{ $t('login.title') }}\n              </el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </div>\n      <div class=\"login-footer\">\n        <p>\n          <svg-icon icon=\"github-fill\"/>\n          <a href=\"https://github.com/bigbigsir/vue-element-admin\" target=\"_blank\">vue-element-admin</a>\n          <a href=\"https://github.com/bigbigsir/nodeJs\" target=\"_blank\">nodeJs</a>\n        </p>\n        <p>\n          <a href=\"http://opensource.org/licenses/MIT\" rel=\"nofollow\" target=\"_blank\">MIT</a>\n          <span>Copyright (c) 2019-present bigBigSir</span>\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/**\n * Created by bigBigSir on 2019/3/26\n */\nimport cookies from 'js-cookie'\nimport JSEncrypt from 'jsencrypt'\nimport debounce from 'lodash/debounce'\nimport { getUUId } from '../../utils/util'\nimport LanguageSelect from '@/components/LanguageSelect.vue'\n\nexport default {\n  name: 'login',\n  components: {\n    LanguageSelect\n  },\n  // 进入页面的路由拦截\n  beforeRouteEnter (to, from, next) {\n    const nextTarget = {\n      query: { ...from.query },\n      params: { ...from.params }\n    }\n    if (from.name) {\n      nextTarget.name = from.name\n    } else {\n      nextTarget.path = from.path\n    }\n    if (cookies.get('token')) {\n      return next(nextTarget)\n    }\n    next(vm => {\n      vm.nextTarget = nextTarget\n    })\n  },\n  data () {\n    return {\n      nextTarget: '/',\n      submitLoading: false,\n      formData: {\n        uuid: getUUId(),\n        username: '',\n        password: '',\n        captcha: ''\n      }\n    }\n  },\n  computed: {\n    captchaUrl () {\n      return this.$store.state.baseUrl + '/util/getCaptcha?uuid=' + this.formData.uuid\n    },\n    formRules () {\n      const required = {\n        required: true,\n        message: this.$t('validate.required'),\n        trigger: ['blur']\n      }\n      return {\n        username: [required],\n        password: [required],\n        captcha: [required]\n      }\n    }\n  },\n  created () {\n    this.$store.commit('setUserInfo', null)\n  },\n  methods: {\n    // 刷新验证码\n    refreshCaptcha: debounce(function () {\n      this.formData.uuid = getUUId()\n    }, 1000, {\n      leading: true,\n      trailing: false\n    }),\n    // 加密密码\n    encrypt (key, plaintext) {\n      const crypto = new JSEncrypt()\n      crypto.setPublicKey(key)\n      return crypto.encrypt(plaintext)\n    },\n    // 提交登录请求\n    submitForm (key) {\n      const params = { ...this.formData }\n      params.password = this.encrypt(key, params.password)\n      return this.$http.post('/user/signIn', params).then(({ ok, msg, token }) => {\n        if (ok && token) {\n          cookies.set('token', token, { expires: 1 })\n          this.$router.replace(this.nextTarget)\n        } else {\n          return Promise.reject(msg)\n        }\n      })\n    },\n    // 注册\n    signUp (key) {\n      return this.$http.post('/user/signUp', {\n        username: 'admin1',\n        password: this.encrypt(key, 'admin1')\n      })\n    },\n    // 登录事件\n    submitHandle: debounce(function () {\n      this.$refs.form.validate((valid) => {\n        if (valid) {\n          this.submitLoading = true\n          this.$http.get('/util/getPublicKey').then(({ ok, key, msg }) => {\n            if (ok) {\n              return this.submitForm(key)\n            } else {\n              return Promise.reject(msg)\n            }\n          }).catch((err) => {\n            this.refreshCaptcha()\n            this.$message.error(err)\n            this.submitLoading = false\n          })\n        }\n      })\n    }, 1000, {\n      leading: true,\n      trailing: false\n    })\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .login-container {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: #F1F4F5;\n    background-image: url(~@/assets/img/login_bg.jpg);\n    background-size: cover;\n  }\n\n  .login-inner {\n    height: 100%;\n    background-color: rgba(38, 50, 56, 0.4);\n  }\n\n  .login-content {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -200px;\n    width: 400px;\n    transform: translateY(-60%);\n  }\n\n  .login-header {\n    margin-bottom: 35px;\n    font-weight: 400;\n    letter-spacing: 2px;\n    color: #fff;\n    text-align: center;\n    text-transform: uppercase;\n\n    .login-brand {\n      margin: 0;\n      font-size: 40px;\n      font-weight: 400;\n    }\n  }\n\n  .login-main {\n    padding: 20px 30px;\n    background-color: #fff;\n\n    .login-title {\n      margin: 18px 0;\n      padding-left: 22px;\n      font-size: 18px;\n      font-weight: 400;\n      letter-spacing: 2px;\n      text-align: center;\n\n      & > div {\n        float: right;\n      }\n    }\n\n    .login-captcha {\n      min-width: 120px;\n      font-size: 0;\n      background-color: #c8c8c9;\n    }\n\n    .language {\n      padding: 0;\n      font-size: 20px;\n    }\n  }\n\n  .login-footer {\n    position: absolute;\n    left: 50%;\n    bottom: 0;\n    margin-left: -230px;\n    width: 460px;\n    padding: 20px 0;\n    text-align: center;\n    color: rgba(255, 255, 255, .6);\n\n    p {\n      margin: 10px 0;\n    }\n\n    a {\n      padding: 0 10px;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=41e292d7&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=41e292d7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41e292d7\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}