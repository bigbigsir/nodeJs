{"version":3,"sources":["webpack:///./src/views/main/subMenu.vue?3134","webpack:///src/views/main/subMenu.vue","webpack:///./src/views/main/subMenu.vue?9ff3","webpack:///./src/views/main/subMenu.vue","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/views/main/main.vue?a086","webpack:///src/views/main/main.vue","webpack:///./src/views/main/main.vue?a60f","webpack:///./src/views/main/main.vue","webpack:///./src/views/main/mainSideMenu.vue?bb73","webpack:///src/views/main/mainSideMenu.vue","webpack:///./src/views/main/mainSideMenu.vue?0b36","webpack:///./src/views/main/mainSideMenu.vue","webpack:///./src/views/main/mainContent.vue?82f0","webpack:///src/views/main/mainContent.vue","webpack:///./src/views/main/mainContent.vue?ae54","webpack:///./src/views/main/mainContent.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","menu","children","length","attrs","id","slot","icon","_v","_s","label","_l","item","key","staticRenderFns","name","props","type","Object","required","component","$","$find","find","addToUnscopables","arrayMethodUsesToLength","FIND","SKIPS_HOLES","USES_TO_LENGTH","Array","target","proto","forced","callbackfn","arguments","undefined","directives","rawName","value","expression","modifiers","staticClass","class","collapse","isCollapse","opacity0","loading","$t","components","MainHeader","MainContent","MainSideMenu","watch","$route","beforeRouteEnter","next","vm","routeHandle","to","beforeRouteLeave","setMenuActiveIndex","data","created","windowResizeHandle","getUserInfo","then","computed","methods","toggleCollapse","document","body","clientWidth","window","addEventListener","meta","openMode","tab","path","params","query","addTab","setTabsActiveName","sideMenuDarkSkin","ref","menuActiveIndex","on","selectMenuHandle","refInFor","n","$refs","activeIndex","$router","push","routerPath","findMenuItem","menus","i","menuId","handleCommand","tabActiveName","tabSelectedHandle","removeTab","isIframe","_e","staticStyle","resourceUrl","tabRouterKey","command","removeOtherTabs","removeAllTabs","tabs","filter","tabName","nowTabIndex","index","updateTabs"],"mappings":"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","file":"js/main.71401e65.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.menu.children && _vm.menu.children.length)?_c('el-submenu',{attrs:{\"index\":_vm.menu.id,\"popper-append-to-body\":false}},[_c('template',{slot:\"title\"},[_c('svg-icon',{attrs:{\"icon\":_vm.menu.icon||'tag'}}),_c('span',[_vm._v(_vm._s(_vm.menu.label))])],1),_vm._l((_vm.menu.children),function(item){return _c('sub-menu',{key:item.id,attrs:{\"menu\":item}})})],2):_c('el-menu-item',{attrs:{\"index\":_vm.menu.id}},[_c('svg-icon',{attrs:{\"icon\":_vm.menu.icon||'tag'}}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.menu.label))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-submenu v-if=\"menu.children && menu.children.length\" :index=\"menu.id\" :popper-append-to-body=\"false\">\n    <template slot=\"title\">\n      <svg-icon :icon=\"menu.icon||'tag'\"/>\n      <span>{{ menu.label }}</span>\n    </template>\n    <sub-menu v-for=\"item in menu.children\" :key=\"item.id\" :menu=\"item\"></sub-menu>\n  </el-submenu>\n  <el-menu-item v-else :index=\"menu.id\">\n    <svg-icon :icon=\"menu.icon||'tag'\"/>\n    <span slot=\"title\">{{ menu.label }}</span>\n  </el-menu-item>\n</template>\n\n<script>\n/**\n   * Created by bigBigSir on 2019/4/3\n   */\n\nexport default {\n  name: 'subMenu',\n  props: {\n    menu: {\n      type: Object,\n      required: true\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./subMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./subMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./subMenu.vue?vue&type=template&id=29255583&\"\nimport script from \"./subMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./subMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.loading),expression:\"loading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],staticClass:\"main-container reset-element-ui clearfix\",class:{collapse:_vm.isCollapse,opacity0:_vm.loading},attrs:{\"id\":\"main\",\"element-loading-text\":_vm.$t('loading')}},[_c('MainHeader'),_c('MainSideMenu'),_c('MainContent')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"main\"\n       v-loading.fullscreen.lock=\"loading\"\n       :class=\"{collapse:isCollapse,opacity0:loading}\"\n       :element-loading-text=\"$t('loading')\"\n       class=\"main-container reset-element-ui clearfix\">\n    <MainHeader></MainHeader>\n    <MainSideMenu></MainSideMenu>\n    <MainContent></MainContent>\n  </div>\n</template>\n\n<script>\n/**\n * Created by bigBigSir on 2019/3/28\n */\nimport cookies from 'js-cookie'\nimport MainHeader from './mainHeader.vue'\nimport MainContent from './mainContent.vue'\nimport MainSideMenu from './mainSideMenu.vue'\nimport debounce from 'lodash/debounce'\nimport { mapState, mapMutations, mapActions } from 'vuex'\n\nexport default {\n  name: 'mainPage',\n  components: {\n    MainHeader,\n    MainContent,\n    MainSideMenu\n  },\n  watch: {\n    $route: 'routeHandle'\n  },\n  beforeRouteEnter (to, from, next) {\n    // 进入页面初始化当前路由tab\n    next(vm => {\n      vm.routeHandle(to)\n    })\n  },\n  beforeRouteLeave (to, from, next) {\n    // 离开页面清空当前菜单选中项标识\n    this.setMenuActiveIndex(null)\n    next()\n  },\n  data () {\n    return {\n      loading: true\n    }\n  },\n  created () {\n    this.windowResizeHandle()\n    this.getUserInfo().then(() => {\n      this.loading = false\n    }).catch(() => {\n      cookies.remove('token')\n      this.$router.replace('/login')\n    })\n  },\n  computed: {\n    ...mapState('main', ['tabs', 'isCollapse'])\n  },\n  methods: {\n    ...mapActions(['getUserInfo']),\n    ...mapMutations('main', [\n      'addTab',\n      'toggleCollapse',\n      'setMenuActiveIndex',\n      'setTabsActiveName'\n    ]),\n    // 监听窗口大小改变\n    windowResizeHandle () {\n      this.toggleCollapse(document.body.clientWidth < 1000)\n      window.addEventListener('resize', debounce(() => {\n        this.toggleCollapse(document.body.clientWidth < 1000)\n      }, 200))\n    },\n    // 主页下路由变化的处理方法\n    routeHandle (to) {\n      this.setMenuActiveIndex(to.meta.id)\n      if (to.meta.openMode !== 'tab') return false\n      let tab = this.tabs.find(item => item.name === to.name)\n      if (!tab) {\n        tab = {\n          ...to.meta,\n          path: to.path,\n          name: to.name,\n          params: { ...to.params },\n          query: { ...to.query }\n        }\n        this.addTab(tab)\n      }\n      this.setTabsActiveName(to.name)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=1117c4f8&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"main-side-menu fl\",class:{'dark':_vm.sideMenuDarkSkin}},[_c('el-scrollbar',[_c('el-menu',{ref:\"menu\",staticClass:\"side-menu-root\",attrs:{\"collapse\":_vm.isCollapse,\"collapse-transition\":false,\"default-active\":_vm.menuActiveIndex},on:{\"select\":_vm.selectMenuHandle}},_vm._l((_vm.menuData),function(menu){return _c('SubMenu',{key:menu.id,ref:\"el_menu\",refInFor:true,attrs:{\"menu\":menu}})}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <aside :class=\"{'dark':sideMenuDarkSkin}\" class=\"main-side-menu fl\">\n    <el-scrollbar>\n      <el-menu\n        ref=\"menu\"\n        @select=\"selectMenuHandle\"\n        :collapse=\"isCollapse\"\n        :collapse-transition=\"false\"\n        class=\"side-menu-root\"\n        :default-active=\"menuActiveIndex\">\n        <SubMenu ref=\"el_menu\" v-for=\"menu in menuData\" :key=\"menu.id\" :menu=\"menu\"></SubMenu>\n      </el-menu>\n    </el-scrollbar>\n  </aside>\n</template>\n\n<script>\n/**\n   * Created by bigBigSir on 2019/3/28\n   */\nimport SubMenu from './subMenu.vue'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'mainSideMenu',\n  components: { SubMenu },\n  data () {\n    return {}\n  },\n  created () {\n  },\n  watch: {\n    menuActiveIndex: function (n) {\n      if (n === null) this.$refs.menu.activeIndex = n\n    }\n  },\n  computed: {\n    ...mapState(['menuData']),\n    ...mapState('main', [\n      'menuKey',\n      'isCollapse',\n      'menuActiveIndex',\n      'sideMenuDarkSkin'\n    ])\n  },\n  methods: {\n    // 点击菜单项时触发\n    selectMenuHandle (menuId) {\n      const menu = this.findMenuItem(this.menuData, menuId)\n      if (menu) this.$router.push(menu.routerPath)\n    },\n    // 依据菜单ID在菜单数据中查找该项菜单\n    findMenuItem (menus, menuId) {\n      let menu = null\n      for (let i = menus.length; i--;) {\n        if (menus[i].id === menuId) {\n          menu = menus[i]\n          break\n        }\n        if (menus[i].children && menus[i].children.length) {\n          menu = this.findMenuItem(menus[i].children, menuId)\n        }\n      }\n      return menu\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainSideMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainSideMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mainSideMenu.vue?vue&type=template&id=5a9d6d63&\"\nimport script from \"./mainSideMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./mainSideMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"main-content\"},[_c('div',{staticClass:\"main-content-inner\"},[(_vm.$route.meta.openMode==='tab')?[_c('el-dropdown',{staticClass:\"tabs-tools cursor-pr\",attrs:{\"size\":\"medium\",\"trigger\":\"click\"},on:{\"command\":_vm.handleCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_c('svg-icon',{attrs:{\"icon\":\"menu\"}})],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"now\"}},[_c('svg-icon',{attrs:{\"icon\":\"flag\"}}),_vm._v(\" \"+_vm._s(_vm.$t('tabsHandle.closeCurrent'))+\" \")],1),_c('el-dropdown-item',{attrs:{\"command\":\"other\"}},[_c('svg-icon',{attrs:{\"icon\":\"tag\"}}),_vm._v(\" \"+_vm._s(_vm.$t('tabsHandle.closeOther'))+\" \")],1),_c('el-dropdown-item',{attrs:{\"command\":\"all\"}},[_c('svg-icon',{attrs:{\"icon\":\"tags\"}}),_vm._v(\" \"+_vm._s(_vm.$t('tabsHandle.closeAll'))+\" \")],1)],1)],1),_c('el-tabs',{staticClass:\"main-content-tabs\",attrs:{\"value\":_vm.tabActiveName},on:{\"tab-click\":_vm.tabSelectedHandle,\"tab-remove\":_vm.removeTab}},_vm._l((_vm.tabs),function(tab){return _c('el-tab-pane',{key:tab.name,class:{'iframe-wrapper':tab.isIframe},attrs:{\"name\":tab.name,\"closable\":tab.name!=='sys_home'}},[_c('template',{slot:\"label\"},[(tab.icon)?_c('svg-icon',{attrs:{\"icon\":tab.icon}}):_vm._e(),_vm._v(\" \"+_vm._s(tab.name!=='sys_home'?tab.label:'')+\" \")],1),(tab.isIframe)?[_c('iframe',{staticStyle:{\"border\":\"none\"},attrs:{\"src\":tab.resourceUrl,\"width\":\"100%\",\"height\":\"100%\"}})]:[_c('el-scrollbar',{staticClass:\"b-r-small\"},[(tab.name===_vm.tabActiveName)?_c('router-view',{key:_vm.tabRouterKey}):_vm._e()],1)]],2)}),1)]:(_vm.$route.meta.openMode==='home')?[(_vm.$route.meta.isIframe)?[_c('iframe',{staticStyle:{\"border\":\"none\"},attrs:{\"src\":_vm.$route.meta.resourceUrl,\"width\":\"100%\",\"height\":\"100%\"}})]:[_c('el-scrollbar',{staticClass:\"b-r-small\"},[_c('router-view',{key:_vm.tabRouterKey})],1)]]:_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <main class=\"main-content\">\n    <div class=\"main-content-inner\">\n      <template v-if=\"$route.meta.openMode==='tab'\">\n        <el-dropdown @command=\"handleCommand\" size=\"medium\" class=\"tabs-tools cursor-pr\" trigger=\"click\">\n        <span class=\"el-dropdown-link\">\n          <svg-icon icon=\"menu\"/>\n        </span>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item command=\"now\">\n              <svg-icon icon=\"flag\"/>&nbsp;{{$t('tabsHandle.closeCurrent')}}\n            </el-dropdown-item>\n            <el-dropdown-item command=\"other\">\n              <svg-icon icon=\"tag\"/>&nbsp;{{$t('tabsHandle.closeOther')}}\n            </el-dropdown-item>\n            <el-dropdown-item command=\"all\">\n              <svg-icon icon=\"tags\"/>&nbsp;{{$t('tabsHandle.closeAll')}}\n            </el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n        <el-tabs :value=\"tabActiveName\" @tab-click=\"tabSelectedHandle\" @tab-remove=\"removeTab\"\n                 class=\"main-content-tabs\">\n          <el-tab-pane\n              v-for=\"tab in tabs\"\n              :key=\"tab.name\"\n              :name=\"tab.name\"\n              :closable=\"tab.name!=='sys_home'\"\n              :class=\"{'iframe-wrapper':tab.isIframe}\">\n            <template slot=\"label\">\n              <svg-icon v-if=\"tab.icon\" :icon=\"tab.icon\"/>\n              {{tab.name!=='sys_home'?tab.label:''}}\n            </template>\n            <template v-if=\"tab.isIframe\">\n              <iframe :src=\"tab.resourceUrl\" width=\"100%\" height=\"100%\" style=\"border: none;\"></iframe>\n            </template>\n            <template v-else>\n              <el-scrollbar class=\"b-r-small\">\n                <router-view :key=\"tabRouterKey\" v-if=\"tab.name===tabActiveName\"/>\n              </el-scrollbar>\n            </template>\n          </el-tab-pane>\n        </el-tabs>\n      </template>\n      <template v-else-if=\"$route.meta.openMode==='home'\">\n        <template v-if=\"$route.meta.isIframe\">\n          <iframe :src=\"$route.meta.resourceUrl\" width=\"100%\" height=\"100%\" style=\"border: none;\"></iframe>\n        </template>\n        <template v-else>\n          <el-scrollbar class=\"b-r-small\">\n            <router-view :key=\"tabRouterKey\"/>\n          </el-scrollbar>\n        </template>\n      </template>\n    </div>\n  </main>\n</template>\n\n<script>\n/**\n * Created by bigBigSir on 2019/3/28\n */\nimport { mapState, mapMutations } from 'vuex'\n\nexport default {\n  name: 'mainContent',\n  data () {\n    return {}\n  },\n  computed: {\n    ...mapState('main', ['tabs', 'tabActiveName', 'tabRouterKey', 'isCollapse'])\n  },\n  methods: {\n    ...mapMutations('main', ['updateTabs', 'setTabsActiveName']),\n    handleCommand (command) {\n      if (command === 'now') {\n        this.removeTab(this.tabActiveName)\n      } else if (command === 'other') {\n        this.removeOtherTabs()\n      } else {\n        this.removeAllTabs()\n      }\n    },\n    // 选中tab事件\n    tabSelectedHandle (tab) {\n      if (tab.name === this.tabActiveName) return\n      tab = this.tabs.filter(item => item.name === tab.name)[0]\n      if (tab) {\n        this.$router.push({\n          name: tab.name,\n          params: { ...tab.params },\n          query: { ...tab.query }\n        })\n      }\n    },\n    // tabs, 删除当前tab\n    removeTab (tabName) {\n      let nowTabIndex = null\n      if (tabName === 'sys_home') return false\n      const tabs = this.tabs.filter((item, index) => {\n        if (item.name === tabName) nowTabIndex = index\n        return item.name !== tabName\n      })\n      this.updateTabs(tabs)\n      if (nowTabIndex !== this.tabs.length - 1) {\n        nowTabIndex = nowTabIndex - 1\n      }\n      this.$router.push({\n        name: this.tabs[nowTabIndex].name,\n        query: { ...this.tabs[nowTabIndex].query },\n        params: { ...this.tabs[nowTabIndex].params }\n      })\n    },\n    // tabs, 关闭其它\n    removeOtherTabs () {\n      this.updateTabs(this.tabs.filter(item => {\n        return item.name === 'sys_home' || item.name === this.tabActiveName\n      }))\n    },\n    // tabs, 关闭全部\n    removeAllTabs () {\n      this.updateTabs(this.tabs.filter(item => item.name === 'sys_home'))\n      this.$router.push({\n        name: 'sys_home',\n        query: { ...this.tabs[0].query },\n        params: { ...this.tabs[0].params }\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mainContent.vue?vue&type=template&id=1109da10&\"\nimport script from \"./mainContent.vue?vue&type=script&lang=js&\"\nexport * from \"./mainContent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}