{"version":3,"sources":["views/games/games.module.scss","views/games/img/ps.jpg","views/games/img/fishing.png","views/games/img/hot_flag.png","views/games/img/rotate.png","utils/gameUtil.js","views/games/games.js"],"names":["module","exports","keys","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","platformCode","AGQJ","AG","EBET","MG","PT","AS","PNG","PP","TTG","SHABA","SPORTSBT","K8","getGames","url","head","document","getElementsByTagName","script","createElement","Promise","resolve","reject","src","type","onload","onreadystatechange","this","readyState","Error","games","window","obj","list","sort","map","item","isFavorite","gameCode","forEach","game","index","changeToObject","removeChild","appendChild","sortField","sortType","a","b","getPageData","gameList","params","filterList","page","pageSize","total","length","data","slice","maxPage","Math","ceil","search","gameType","providerList","lineList","reg","RegExp","filter","test","cnName","enName","key","hasOwnProperty","isArray","indexOf","provider","line","push","filterLine","split","cx","classNames","bind","scss","pageYOffset","Games","gameListEl","useRef","inputEl","useState","jackpot","setJackpot","loaded","setLoaded","setSearch","setGameList","pageData","setPageData","pageParams","setPageParams","tab","filterIndex","setFilterIndex","name","isRecommend","isNew","isPool","isFree","tabs","loginStatus","useSelector","state","customer","loginName","wmsImgPath","wmsServer","OMConfig","wmsCdnPath","wmsEnvPath","getWmsImgPath","bannerGame","popularity","remark","imgUrl","require","selectedFilterIndex","newState","dialog","setSearchValue","e","which","current","value","useEffect","then","getGameList","_isNeedLoading","api","queryPTJackpot","success","body","pt","toThousandSplit","totalAmount","queryAgFishJackpot","ag","totalJackot","getJackpot","console","log","imgLazyInit","handelScroll","getBoundingClientRect","bottom","clientHeight","timer","setTimeout","clearTimeout","loadNextPage","addEventListener","removeEventListener","className","Banner","field","onClick","active","toString","href","onKeyPress","ref","placeholder","alt"],"mappings":"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","file":"cdn/A02F/static/js/3.6b103729.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"games__banner\":\"css-1EVnu\",\"games__prize\":\"css-FGTna\",\"support-webp\":\"css-56MSq\",\"games__prize-item\":\"css-35sh6\",\"games__prize-amount\":\"css-3VXKf\",\"games__prize-unit\":\"css-1qifp\",\"games__prize-name\":\"css-11ASH\",\"games__content\":\"css-1zRpc\",\"games__list\":\"css-1ZOKB\",\"tab\":\"css-wbUFt\",\"tab__inner\":\"css-UIlEA\",\"tab__item\":\"css-9ewDS\",\"active\":\"css-3mDT2\",\"tab__search\":\"css-MuZQr\",\"tab__input\":\"css-3iigH\",\"tab__icon-search\":\"css-1GnVm\",\"filter\":\"css-2bgM7\",\"filter__list\":\"css-tw3ai\",\"filter__wrapper\":\"css-1pjFX\",\"filter__item\":\"css-1WN9v\",\"filter__label\":\"css-1Cesc\",\"game\":\"css-1-Z_q\",\"game__img\":\"css-F2LZN\",\"game__flag-img\":\"css-3yQy9\",\"game__amount\":\"css-325YR\",\"game__info\":\"css-1FC30\",\"game__info-inner\":\"css-32H-8\",\"game__name\":\"css-JTXg5\",\"game__describe\":\"css-3Ua9W\",\"game__hot\":\"css-3JsDY\",\"game__icon-hot\":\"css-m84HZ\",\"game__mask\":\"css-3vQNj\",\"game__mask-name\":\"css-2TnUn\",\"game__button\":\"css-2zWoZ\",\"game__link\":\"css-3knRG\",\"game--max\":\"css-2NECk\",\"game--small\":\"css-1SpHL\",\"game--mini\":\"css-2UBo7\",\"no-more-tips\":\"css-1r3vJ\",\"loading\":\"css-1LdDN\",\"loading__img\":\"css-3I-Bx\",\"rotate\":\"css-3SMPS\"};","module.exports = \"https://img.60kg.top/web/cdn/A02F/static/img/ps.23e0045a.jpg\";","module.exports = \"https://img.60kg.top/web/cdn/A02F/static/img/fishing.71cdee03.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxMWZmNzA2NS04OWJmLTRjYjItODdmZS03ZTQ4YmFlOTBkNDAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjVCQUQ5RkE2N0QxMTFFOUI3ODVFOTBEQ0E1MEMzQjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjVCQUQ5Rjk2N0QxMTFFOUI3ODVFOTBEQ0E1MEMzQjMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUuNSAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg0OWZkOGNhLWI2OGUtNGRiMy1iNzI1LWRmYzcyZDJlMGE3YiIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmUxNTQ3NzczLWYyNTctNTA0NC04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\"","module.exports = \"https://img.60kg.top/web/cdn/A02F/static/img/rotate.9636734b.png\";","import { isArray } from '@/utils/util'\nimport router from '../router/index.js'\nimport store from '../store/index.js'\n\n// 游戏数据下标映射关系\nconst keys = {\n  0: 'gameId', // 游戏ID\n  1: 'provider', // 供应商\n  2: 'enName', // 英文名\n  3: 'cnName', // 中文名\n  4: 'gameType', // 游戏类型\n  5: 'gameStyle', // 游戏风格\n  6: 'line', // 赔付线\n  7: 'playerType', // 玩家类型\n  8: 'isPool', // 是否奖池 (0/1)\n  9: 'canTry', // 是否支持试玩 (0/1)\n  10: 'popularity', // 人气值\n  11: 'maxMultiple', // 最大赢钱倍数\n  12: 'betTimes', // 投注笔数\n  13: 'maxPrize', // 最高派奖\n  14: 'star', // 星级\n  15: 'grade', // 分数\n  16: 'imgUrl', // 图片\n  17: 'poolUrl', // 奖池地址 (是否彩金池 Flash)\n  18: 'isNew', // 最新\n  19: 'isRecommend', // 推荐 (凱時推薦依據)\n  20: 'special', // 特色 (USDT)\n  21: 'specialJackpot', // 漫威奖金池地址\n  22: 'praise', // 点赞数\n  23: 'remark', // 描述\n  24: 'valid', // 是否显示\n  25: 'language', // 游戏语言\n  26: 'isHot', // 最热\n  27: 'isPromo', // 特惠\n  28: 'imgUrl2', // 游戏图片2路径\n  29: 'imgUrl3', // 游戏图片3路径\n  30: 'imgUrl4', // 游戏图片4路径\n  31: 'serverGameId', // 服务器游戏ID\n  32: 'isFree'// 免费游戏\n}\n\n// 各平台是否支持试玩\nexport const tryPlayCode = {\n  A02003: true,\n  A02027: true,\n  A02059: true,\n  A02064: true,\n  A02067: true,\n  A02052: true,\n  A02031: false,\n  A02026: false,\n  A02035: false,\n  A02039: false,\n  A02004: false,\n  A02088: false\n}\n\n// 平台名称和平台code关联对象\nexport const platformCode = {\n  AGQJ: 'A02003', // AG旗舰\n  AG: 'A02026', // AG国际\n  EBET: 'A02059', //  eBET厅\n  MG: 'A02035', // MG厅\n  PT: 'A02039', // PT厅\n  AS: 'A02064', // AS真人棋牌\n  PNG: 'A02052', // PNG厅\n  PP: 'A02067', // PP厅\n  TTG: 'A02027', // TTG厅\n  SHABA: 'A02031', // 沙巴体育\n  SPORTSBT: 'A02066', // AG国际体育\n  K8: 'A02004' // 彩票\n}\n\n// 平台名称和平台code的映射关系\nexport const platformName = {\n  A02003: 'AG旗舰', // AG旗舰\n  A02026: 'AG国际', // AG国际\n  A02059: 'eBET厅', //  eBET厅\n  A02035: 'MG厅', // MG厅\n  A02039: 'PT厅', // PT厅\n  A02064: 'AS真人棋牌', // AS真人棋牌\n  A02052: 'PNG厅', // PNG厅\n  A02067: 'PP厅', // PP厅\n  A02027: 'TTG厅', // TTG厅\n  A02031: '沙巴体育', // 沙巴体育\n  A02066: 'AG国际体育', // AG国际体育\n  A02004: '彩票' // 彩票\n}\n\n/**\n * @description 获取游戏列表\n * @param {String} url\n * @return {Promise}\n * */\nexport function getGames(url) {\n  const head = document.getElementsByTagName('head')[0]\n  const script = document.createElement('script')\n  return new Promise((resolve, reject) => {\n    script.src = url\n    script.type = 'text/javascript'\n    script.onload = script.onreadystatechange = function () {\n      if (!this.readyState || this.readyState === 'loaded' || this.readyState === 'complete') {\n        const games = window.games || []\n        window.games = null\n        resolve(changeToObject(games))\n      } else {\n        reject(new Error('获取游戏列表失败'))\n      }\n      head.removeChild(script)\n    }\n    head.appendChild(script)\n  })\n}\n\n/**\n * @description 将游戏数据二维数组转换为一维数组，把值与字段按照下标关联起来\n * @param  {Array} list gamesJs文件中的二维数组\n * @return {Array}      组装为对象后的游戏数据数组\n */\nfunction changeToObject(list = []) {\n  let obj\n  list = list.map(item => {\n    obj = {\n      isFavorite: false, // 是否收藏\n      gameCode: platformCode[item[1]] // 游戏平台code\n    }\n    item.forEach((game, index) => {\n      obj[keys[index]] = game\n    })\n    return obj\n  })\n  return sort(list, 'popularity')\n}\n\n/**\n * @description 数组指定字段、方式排序\n * @param  {Array}  list\n * @param  {String} sortField 排序字段\n * @param  {String} sortType  排序方式 asc 升序, desc 降序\n * @return {Array} list\n */\nfunction sort(list, sortField, sortType = 'desc') {\n  list.sort((a, b) => {\n    a = sortField ? +a[sortField] : a\n    b = sortField ? +b[sortField] : b\n    return sortType === 'desc' ? b - a : a - b\n  })\n  return list\n}\n\n/**\n * @description 将数组组装为分页数据\n *\n * @param  {Array}  gameList 游戏数组\n * @param  {Object} params   过滤参数\n * @return {Object}          分页数据\n */\nexport function getPageData(gameList = [], params) {\n  gameList = filterList(gameList, params)\n  const { page, pageSize } = params\n  const total = gameList.length\n  const data = gameList.slice(0, page * pageSize)\n  const maxPage = Math.ceil(gameList.length / pageSize)\n  return {\n    page,\n    pageSize,\n    data,\n    total,\n    maxPage\n  }\n}\n\n/**\n * @description 将数组按照参数过滤后返回\n *\n * @param  {Array}  gameList 游戏数组\n * @param  {Object} params   过滤参数\n * @return {Array}\n */\nfunction filterList(gameList, params) {\n  const { search, gameType, providerList, lineList } = params\n  if (!gameList.length) return gameList\n  // 搜索游戏名称\n  if (search) {\n    const reg = new RegExp(search)\n    gameList = gameList.filter(item => {\n      return reg.test(item.cnName) || reg.test(item.enName)\n    })\n  }\n  // 筛选游戏大类（热门、最新、彩金池...）\n  for (const key in params) {\n    if (params.hasOwnProperty(key) && params[key] === true) {\n      gameList = gameList.filter(item => item[key])\n    }\n  }\n  // 筛选游戏类型\n  if (gameType) {\n    gameList = gameList.filter(item => item.gameType === gameType)\n  }\n  // 筛选游戏平台\n  if (providerList) {\n    if (isArray(providerList) && providerList.length) {\n      gameList = gameList.filter(item => ~providerList.indexOf(item.provider))\n    } else if (typeof providerList === 'string') {\n      gameList = gameList.filter(item => providerList === item.provider)\n    }\n  }\n  // 筛选游戏线路\n  if (lineList) {\n    if (isArray(lineList) && lineList.length) {\n      const list = []\n      lineList.forEach(line => {\n        list.push(...filterLine(line))\n      })\n      gameList = list\n    } else if (typeof lineList === 'string') {\n      gameList = filterLine(lineList)\n    }\n  }\n\n  function filterLine(line) {\n    line = line.split('-')\n    !line[1] && line.push(line[0])\n    return gameList.filter(game => {\n      return game.line >= line[0] && game.line <= line[1]\n    })\n  }\n\n  return gameList\n}\n\n/**\n * @description 进入游戏初始方法\n *\n * @param {Object} param    参数对象\n *                 gameId   游戏id\n *                 gameCode 游戏平台code\n *                 gameType 游戏类型\n *                 gameName 游戏名称\n *                 tryPlay  是否支持试玩，此参数在判断是否支持试玩时具有优先级\n */\nexport function playGame(param = {}) {\n  const { gameCode, canTryPlay } = param\n  const loginStatus = store.getState().customer.loginName\n  param.canTryPlay = canTryPlay || tryPlayCode[gameCode] || tryPlayCode[platformCode[gameCode]]\n  if (loginStatus) {\n    getGameUrl(param)\n  } else if (param.canTryPlay) {\n    getGameUrl(param)\n  } else {\n    // toast.error({\n    //   duration: 1500,\n    //   message: '请先登录',\n    //   callback() {\n    //     router.push('/login').then(r => r)\n    //   }\n    // })\n  }\n}\n\n/**\n * @description 获取游戏路径\n *\n * @param {Object}  param      参数对象\n */\nfunction getGameUrl(param) {\n  const routeData = router.resolve({\n    path: '/loadingGame',\n    query: param\n  })\n  window.open(routeData.href, '_blank', 'height=667, width=375, scrollbars=yes,resizable=1,modal=false,alwaysRaised=yes')\n}\n\nexport default {\n  getGames,\n  getPageData\n}\n","import React, { useEffect, useRef, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport classNames from 'classnames/bind'\nimport Banner from '@/components/banner/Banner'\nimport api from '@/api/api'\nimport { imgLazyInit, toThousandSplit } from '@/utils/util'\nimport { getGames, getPageData } from '@/utils/gameUtil'\nimport { dialog } from '@/components/dialog/Dialog'\nimport scss from './games.module.scss'\n\nconst cx = classNames.bind(scss)\n\nlet pageYOffset = 0\n\nfunction Games() {\n  const gameListEl = useRef(null)\n  const inputEl = useRef(null)\n  const [jackpot, setJackpot] = useState({})\n  const [loaded, setLoaded] = useState(false)\n  const [search, setSearch] = useState(null)\n  const [gameList, setGameList] = useState([])\n  const [pageData, setPageData] = useState({})\n  const [pageParams, setPageParams] = useState({\n    page: 1,\n    pageSize: 10\n  })\n  const [filterIndex, setFilterIndex] = useState({\n    tab: 0,\n    line: 0,\n    provider: 0,\n    gameType: 0\n  })\n  const [tabs] = useState([\n    {\n      name: '凯发推荐',\n      params: {\n        isRecommend: true\n      }\n    }, {\n      name: '全部游戏'\n    }, {\n      name: '最新游戏',\n      params: { isNew: true }\n    }, {\n      name: '彩金池游戏',\n      params: { isPool: true }\n    }, {\n      name: '免费旋转',\n      params: { isFree: true }\n    }, {\n      name: '我的收藏',\n      params: { isFavorite: true }\n    }\n  ])\n  const [line] = useState([\n    {\n      name: '全部',\n      line: null\n    }, {\n      name: '1线-4线',\n      line: '1-4'\n    }, {\n      name: '5线-9线',\n      line: '5-9'\n    }, {\n      name: '15线-25线',\n      line: '15-25'\n    }, {\n      name: '30线-50线',\n      line: '30-50'\n    }, {\n      name: '51线-146线',\n      line: '51-146'\n    }, {\n      name: '243线',\n      line: '243'\n    }, {\n      name: '1024线',\n      line: '1024'\n    }\n  ])\n  const [provider] = useState([\n    {\n      name: '全部',\n      provider: null\n    }, {\n      name: 'AG',\n      provider: 'AG'\n    }, {\n      name: 'PS',\n      provider: 'PS'\n    }, {\n      name: 'PP',\n      provider: 'PP'\n    }, {\n      name: 'MG',\n      provider: 'MG'\n    }, {\n      name: 'TTG',\n      provider: 'TTG'\n    }, {\n      name: 'PNG',\n      provider: 'PNG'\n    }, {\n      name: 'PT',\n      provider: 'PT'\n    }\n  ])\n  const [gameType] = useState([\n    {\n      name: '全部',\n      gameType: null\n    }, {\n      name: '老虎机',\n      gameType: 1\n    }, {\n      name: '捕鱼',\n      gameType: 13\n    }, {\n      name: '桌面游戏',\n      gameType: 2\n    }, {\n      name: '街机游戏',\n      gameType: 4\n    }, {\n      name: '其他',\n      gameType: 5\n    }\n  ])\n  const loginStatus = useSelector(state => !!state.customer.loginName)\n  const wmsImgPath = getWmsImgPath()\n  const bannerGame = [\n    {\n      cnName: '电游厅',\n      provider: 'PS',\n      popularity: '105,665',\n      remark: '动感画面 精致游戏',\n      imgUrl: require('@/views/games/img/ps.jpg')\n    }, {\n      cnName: '捕鱼王',\n      provider: 'AG',\n      popularity: '101,566',\n      remark: '花式捕鱼 爽快捞金',\n      imgUrl: require('@/views/games/img/fishing.png')\n    }\n  ]\n\n  useEffect(init, [])\n\n  useEffect(loadPageData, [gameList, filterIndex, pageParams, search])\n\n  useEffect(() => {\n    imgLazyInit()\n  }, [pageData])\n\n  useEffect(bindScrollEvent, [loaded, pageParams, pageData])\n\n  function init() {\n    getGameList()\n    getJackpot()\n    return () => (pageYOffset = null)\n  }\n\n  function getJackpot() {\n    const params = { _isNeedLoading: false }\n    api.queryPTJackpot(params).then(({ success, body }) => {\n      if (success) {\n        setJackpot((state) => ({\n          ...state,\n          pt: toThousandSplit(body.totalAmount)\n        }))\n      }\n    })\n    api.queryAgFishJackpot(params).then(({ success, body }) => {\n      if (success) {\n        setJackpot((state) => ({\n          ...state,\n          ag: toThousandSplit(body.totalJackot)\n        }))\n      }\n    })\n  }\n\n  function getGameList() {\n    const wmsServer = window.OMConfig.wmsServer\n    const wmsEnvPath = window.OMConfig.wmsEnvPath\n    const wmsCdnPath = window.OMConfig.wmsCdnPath\n    const url = `${wmsServer + wmsCdnPath}/_wms/js/${wmsEnvPath}/electronicgames/games.js`\n    getGames(url).then(games => {\n      setGameList(games)\n    })\n  }\n\n  function loadPageData() {\n    const params = {\n      search,\n      ...pageParams,\n      ...tabs[filterIndex.tab].params,\n      gameType: gameType[filterIndex.gameType].gameType,\n      lineList: line[filterIndex.line].line,\n      providerList: provider[filterIndex.provider].provider\n    }\n    console.log(params)\n    setPageData(getPageData(gameList, params))\n    setLoaded(true)\n  }\n\n  function bindScrollEvent() {\n    function handelScroll() {\n      const rect = gameListEl.current.getBoundingClientRect()\n      if (rect.bottom <= document.body.clientHeight && pageYOffset < window.pageYOffset) {\n        loadNextPage()\n      }\n      pageYOffset = window.pageYOffset\n    }\n\n    window.addEventListener('scroll', handelScroll)\n    return () => window.removeEventListener('scroll', handelScroll)\n  }\n\n  function loadNextPage() {\n    if (!loaded) return\n    if (pageParams.page < pageData.maxPage) {\n      setLoaded(false)\n      const timer = setTimeout(() => {\n        setPageParams((state) => ({\n          ...state,\n          page: state.page + 1\n        }))\n        clearTimeout(timer)\n      }, 300)\n    }\n  }\n\n  function selectedFilterIndex(newState) {\n    if (newState.tab && newState.tab === tabs.length - 1 && !loginStatus) {\n      return dialog('请登录后查看')\n    }\n    setFilterIndex((state) => ({\n      ...state,\n      ...newState\n    }))\n  }\n\n  function getWmsImgPath() {\n    const wmsServer = window.OMConfig.wmsServer\n    const wmsCdnPath = window.OMConfig.wmsCdnPath\n    const wmsEnvPath = window.OMConfig.wmsEnvPath\n    return `${wmsServer + wmsCdnPath}/_wms/img/${wmsEnvPath}/electronicgames/`\n  }\n\n  function setSearchValue(e) {\n    if (e.type === 'keypress' && e.which !== 13) return\n    setSearch(inputEl.current.value)\n  }\n\n  return (\n    <div className={cx('games')}>\n      <div className={cx('games__banner')}>\n        <Banner field={'games'}/>\n      </div>\n      <div className={cx('games__prize')}>\n        <div className={cx('games__prize-item')}>\n          <p className={cx('games__prize-amount')}>\n            <span className={cx('games__prize-unit')}>￥</span>\n            <span className={cx('monospaced-font')}>{jackpot.ag || '加载中...'}</span>\n          </p>\n          <p className={cx('games__prize-name')}>AG电游总奖池</p>\n        </div>\n        <div className={cx('games__prize-item')}>\n          <p className={cx('games__prize-amount')}>\n            <span className={cx('games__prize-unit')}>￥</span>\n            <span className={cx('monospaced-font')}>{jackpot.pt || '加载中...'}</span>\n          </p>\n          <p className={cx('games__prize-name')}>PT电游总奖池</p>\n        </div>\n      </div>\n      <div className={cx('games__content')}>\n        <div className={cx('tab')}>\n          <div className={cx('tab__inner')}>\n            {tabs.map((item, index) => (\n              <a onClick={() => selectedFilterIndex({ tab: index })}\n                className={cx('tab__item', { active: filterIndex.tab === index })}\n                key={index.toString()} href=\"javascript:void (0);\">{item.name}</a>\n            ))}\n          </div>\n          <div className={cx('tab__search')}>\n            <input onKeyPress={setSearchValue} ref={inputEl} className={cx('tab__input')} placeholder=\"搜索游戏\"\n              type=\"text\"/>\n            <button onClick={setSearchValue} className={cx('tab__icon-search')}/>\n          </div>\n        </div>\n        <div className={cx('filter')}>\n          <div className={cx('filter__list')}>\n            <span className={cx('filter__label')}>游戏平台：</span>\n            <div className={cx('filter__wrapper')}>\n              {\n                provider.map((item, index) => (\n                  <a onClick={() => selectedFilterIndex({ provider: index })}\n                    className={cx('filter__item', { active: filterIndex.provider === index })}\n                    key={index.toString()} href=\"javascript:void (0);\">\n                    {item.name}\n                  </a>\n                ))\n              }\n            </div>\n          </div>\n          <div className={cx('filter__list')}>\n            <span className={cx('filter__label')}>游戏类型：</span>\n            <div className={cx('filter__wrapper')}>\n              {\n                gameType.map((item, index) => (\n                  <a onClick={() => selectedFilterIndex({ gameType: index })}\n                    className={cx('filter__item', { active: filterIndex.gameType === index })}\n                    key={index.toString()} href=\"javascript:void (0);\">\n                    {item.name}\n                  </a>\n                ))\n              }\n            </div>\n          </div>\n          <div className={cx('filter__list')}>\n            <span className={cx('filter__label')}>赔付线数：</span>\n            <div className={cx('filter__wrapper')}>\n              {\n                line.map((item, index) => (\n                  <a onClick={() => selectedFilterIndex({ line: index })}\n                    className={cx('filter__item', { active: filterIndex.line === index })}\n                    key={index.toString()} href=\"javascript:void (0);\">\n                    {item.name}\n                  </a>\n                ))\n              }\n            </div>\n          </div>\n        </div>\n        <ul ref={gameListEl} className={cx('games__list', 'clearfix')}>\n          {\n            bannerGame.map((item, index) => (\n              <li key={index.toString()} className={cx('game', 'game--max')}>\n                <img className={cx('game__img')} src={item.imgUrl} alt=\"\"/>\n                {\n                  index ? <span className={cx('game__amount')}>{jackpot.ag || '加载中...'}</span> : null\n                }\n                {\n                  index\n                    ? <img className={cx('game__flag-img')} src={require('@/views/games/img/hot_flag.png')} alt=\"\"/>\n                    : null\n                }\n                <div className={cx('game__info')}>\n                  <div className={cx('game__info-inner')}>\n                    <p className={cx('game__name')}>{item.provider}&nbsp;{item.cnName}</p>\n                    <p>\n                      <span className={cx('game__describe')}>{item.remark}</span>\n                      <span className={cx('game__hot')}>\n                        人气&nbsp;{item.popularity}<i className={cx('game__icon-hot')}/>\n                      </span>\n                    </p>\n                  </div>\n                </div>\n                <div className={cx('game__mask')}>\n                  <p className={cx('game__mask-name')}>{item.provider}&nbsp;{item.cnName}</p>\n                  <button className={cx('game__button')}>{loginStatus ? '开始游戏' : '免费试玩'}</button>\n                  {\n                    index\n                      ? <p className={cx('game__link')}>\n                        <a href=\"javascript:void (0);\">加入收藏</a>\n                      </p>\n                      : null\n                  }\n                </div>\n              </li>\n            ))\n          }\n          {\n            pageData.data && pageData.data.map((item, index) => (\n              <li key={index.toString()} className={cx('game', [filterIndex.tab ? 'game--mini' : 'game--small'])}>\n                <img className={cx('game__img')} src={wmsImgPath + item.imgUrl} alt=\"\"/>\n                <div className={cx('game__info')}>\n                  <div className={cx('game__info-inner')}>\n                    {\n                      filterIndex.tab === 0 &&\n                      <p className={cx('game__name')}>{item.provider}&nbsp;{item.cnName}</p>\n                    }\n                    <p>\n                      {\n                        filterIndex.tab === 0\n                          ? <span className={cx('game__describe')}>{item.remark}</span>\n                          : <span className={cx('game__name')}>{item.provider}&nbsp;{item.cnName}</span>\n                      }\n                      <span className={cx('game__hot')}>\n                        人气&nbsp;{item.popularity}<i className={cx('game__icon-hot')}/>\n                      </span>\n                    </p>\n                  </div>\n                </div>\n                <div className={cx('game__mask')}>\n                  <p className={cx('game__mask-name')}>{item.provider}&nbsp;{item.cnName}</p>\n                  <button className={cx('game__button')}>{loginStatus ? '开始游戏' : '免费试玩'}</button>\n                  <p className={cx('game__link')}>\n                    <a href=\"javascript:void (0);\">加入收藏</a>\n                  </p>\n                </div>\n              </li>\n            ))\n          }\n          {\n            loaded\n              ? null // <li><p className={cx('no-more-tips')}>已经到底了~</p></li>\n              : <li>\n                <div className={cx('loading')}>\n                  <img className={cx('loading__img')} src={require('@/views/games/img/rotate.png')} alt=\"\"/>\n                </div>\n              </li>\n          }\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default Games\n"],"sourceRoot":""}