{"version":3,"sources":["components/loading/Rotate.js","assets/img/common/rotate.png","views/common/loadingGame.module.scss","views/common/loadingGame.js"],"names":["cx","classNames","bind","scss","Rotate","className","src","require","alt","module","exports","LoadingGame","timer","params","_isNeedLoading","getQueryToObject","loginStatus","useSelector","state","customer","loginName","useEffect","gameCode","inGame","then","success","body","setTimeout","dialog","message","callback","window","close","clearTimeout","platformName"],"mappings":"qGAAA,uFAIMA,EAAKC,IAAWC,KAAKC,KAEZ,SAASC,IACtB,OACE,yBAAKC,UAAWL,EAAG,WACjB,yBAAKK,UAAWL,EAAG,eAAgBM,IAAKC,EAAQ,KAAmCC,IAAI,Q,oBCT7FC,EAAOC,QAAU,IAA0B,2C,oBCC3CD,EAAOC,QAAU,CAAC,KAAO,YAAY,cAAgB,YAAY,eAAe,YAAY,YAAc,YAAY,WAAa,YAAY,aAAe,c,4LCSxJV,EAAKC,IAAWC,KAAKC,KAEZ,SAASQ,IACtB,IAAIC,EACEC,EAAM,aACVC,gBAAgB,GACbC,eAECC,EAAcC,aAAY,SAAAC,GAAK,QAAMA,EAAMC,SAASC,aA6B1D,OA3BAC,qBAEA,WACMR,EAAOS,SACTC,YAAOV,GAAQW,MAAK,YAAwB,IAArBC,EAAoB,EAApBA,QAAoB,EAAXC,KAC1BD,IACFb,EAQGe,YAAW,WAChBC,YAAO,CACLC,QAAS,2EACTC,SAFK,WAGHC,OAAOC,aAGV,SAXHJ,YAAO,wCAcT,OAAO,kBAAMK,aAAarB,MAxBJ,IA4BtB,yBAAKP,UAAWL,EAAG,SACjB,yBAAKK,UAAWL,EAAG,kBACjB,wBAAIK,UAAWL,EAAG,gBAAlB,4BACA,uBAAGK,UAAWL,EAAG,eAAjB,4BAEUgB,EAAc,GAAK,uCAF7B,wBAE2CkB,IAAarB,EAAOS,YAG/D,yBAAKjB,UAAWL,EAAG,iBACjB,kBAAC,IAAD","file":"cdn/A02F/static/js/10.a1bccfc0.chunk.js","sourcesContent":["import React from 'react'\nimport classNames from 'classnames/bind'\nimport scss from './loading.module.scss'\n\nconst cx = classNames.bind(scss)\n\nexport default function Rotate() {\n  return (\n    <div className={cx('rotate')}>\n      <img className={cx('rotate__img')} src={require('@/assets/img/common/rotate.png')} alt=\"\"/>\n    </div>\n  )\n}\n","module.exports = __webpack_public_path__ + \"cdn/A02F/static/img/rotate.9636734b.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"load\":\"css-3gb5i\",\"load__content\":\"css-1SozW\",\"support-webp\":\"css-Fn8qB\",\"load__title\":\"css-3Odvi\",\"load__text\":\"css-334HW\",\"load__rotate\":\"css-1hUYe\"};","import React, { useEffect } from 'react'\nimport classNames from 'classnames/bind'\nimport { useSelector } from 'react-redux'\nimport { getQueryToObject } from '@/utils/util'\nimport { platformName } from '@/utils/gameUtil.js'\nimport { inGame } from '@/api/modules/common'\nimport { dialog } from '@/components/dialog/Dialog'\nimport Rotate from '@/components/loading/Rotate'\nimport scss from './loadingGame.module.scss'\n\nconst cx = classNames.bind(scss)\n\nexport default function LoadingGame() {\n  let timer\n  const params = {\n    _isNeedLoading: false,\n    ...getQueryToObject()\n  }\n  const loginStatus = useSelector(state => !!state.customer.loginName)\n\n  useEffect(getInGameUrl, [])\n\n  function getInGameUrl() {\n    if (params.gameCode) {\n      inGame(params).then(({ success, body }) => {\n        if (success) {\n          timer = error()\n        }\n      })\n    } else {\n      dialog('游戏参数错误')\n    }\n\n    function error() {\n      return setTimeout(() => {\n        dialog({\n          message: '进入游戏错误，请稍后再试',\n          callback() {\n            window.close()\n          }\n        })\n      }, 2000)\n    }\n\n    return () => clearTimeout(timer)\n  }\n\n  return (\n    <div className={cx('load')}>\n      <div className={cx('load__content')}>\n        <h1 className={cx('load__title')}>温馨提示</h1>\n        <p className={cx('load__text')}>\n          {\n            `您正在${loginStatus ? '' : '使用试玩身份'}进入 ${platformName[params.gameCode]}`\n          }\n        </p>\n        <div className={cx('load__rotate')}>\n          <Rotate/>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"sourceRoot":""}