{"version":3,"sources":["views/register/register.module.scss","views/register/registerSuccess.js","views/register/register.js"],"names":["module","exports","cx","classNames","bind","scss","RegisterSuccess","props","account","location","history","useHistory","dispatch","useDispatch","useState","parentId","form","setForm","editAcc","setEditAcc","editPwd","setEditPwd","updateSuccess","setUpdateSuccess","handelInputChange","field","value","state","updatePwd","params","newPassword","encrypted","password","oldPassword","validatePassword","api","modifyPwd","then","success","dialog","className","onClick","path","push","loginName","href","htmlFor","onChange","e","target","id","maxLength","placeholder","type","userAccount","validateLoginName","modifyTempLoginName","body","verifyStr","signIn","catch","console","log","updateAcc","changeParentId","_isShowErrorTips","validateParentId","modify","updateParentId","Fast","createSuccess","img","setImg","captcha","captchaId","randomStr","Date","now","clickSubmit","setClickSubmit","validateCaptcha","length","getCaptcha","_isNeedLoading","head","errCode","image","submit","which","createAccountAuto","setCustomerInfo","getCustomerInfo","getBalanceInfo","useEffect","onKeyPress","src","alt","Phone","phone","setPhone","smsCode","messageId","enableCodeButton","validatePhoneNum","validateSmsCode","verifySmsCode","sendCodeParams","use","mobileNo","createAccountByMobileNo","cryptoJS","enc","Utf8","parse","customerId","DES","decrypt","x2","mode","ECB","padding","pad","Pkcs7","stringify","disabled","CodeButton","enable","sendCodeBefore","sendCallBack","Register","useLocation","activeTab","setActiveTab","setAccount","showSuccessDialog","setShowSuccessDialog","right","active"],"mappings":"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","file":"cdn/A02F/static/js/11.843173ab.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"register\":\"css-KgHr7\",\"register__inner\":\"css-3lxnx\",\"register__header\":\"css-33FnN\",\"register__question\":\"css-1l9wy\",\"register__link-service\":\"css-kh8EM\",\"register__content\":\"css-1SnsZ\",\"support-webp\":\"css-hViuY\",\"register__box\":\"css-2WnKB\",\"register__tab\":\"css-1aBOw\",\"right\":\"css-26-K5\",\"register__tab-item\":\"css-3-YRM\",\"active\":\"css-17ZN4\",\"register__tips\":\"css-1DOCT\",\"form\":\"css-2AWFC\",\"form__error\":\"css-1mxRN\",\"form__label\":\"css-1UnoY\",\"form__icon-status\":\"css-2e5L5\",\"error\":\"css-2N3DG\",\"success\":\"css-1Rens\",\"form__input-wrapper\":\"css-3CPP8\",\"form__input\":\"css-vUBhN\",\"form__input--code\":\"css-2AY4H\",\"form__code\":\"css-b6R2B\",\"form__prefix\":\"css-lbAKH\",\"form__prefix--user\":\"css-3r9om\",\"form__prefix--phone\":\"css-2e5yK\",\"form__prefix--verify\":\"css-3ttp3\",\"form__prefix--line\":\"css-j11Ja\",\"form__button\":\"css-yceAh\",\"dialog\":\"css-1kktS\",\"dialog__inner\":\"css-1Xd5_\",\"dialog__inner--success\":\"css-bUD2h\",\"dialog__icon\":\"css-mXuRj\",\"dialog__button-wrapper\":\"css-tvKP5\",\"dialog__close\":\"css-1ZcPW\",\"dialog__logo\":\"css-rGpyW\",\"dialog__title\":\"css-1eaae\",\"dialog__subtitle\":\"css-2elAZ\",\"dialog__form\":\"css-k-Ojk\",\"dialog__form-item\":\"css-12GkT\",\"dialog__label\":\"css-1rAO1\",\"dialog__input-wrapper\":\"css-e3Hg1\",\"dialog__input\":\"css-2eVcJ\",\"dialog__account\":\"css-3vArd\",\"dialog__position\":\"css-3RMdf\",\"dialog__button\":\"css-2z3WS\",\"dialog__button--solid\":\"css-11NW_\",\"dialog__button--hollow\":\"css-19ZtE\",\"small\":\"css-2N_qh\",\"dialog__newbie-gift\":\"css-1SG-W\",\"dialog__gift-number\":\"css-sDneT\",\"dialog__link\":\"css-3hrGE\"};","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames/bind'\nimport { useDispatch } from 'react-redux'\nimport { useHistory } from 'react-router'\nimport api from '@/api/api'\nimport {\n  validateLoginName,\n  validatePassword,\n  validateParentId\n} from '@/utils/validate'\nimport { encrypted } from '@/utils/util'\nimport { signIn } from '@/store/actions/sign'\nimport { dialog } from '@/components/dialog/Dialog'\nimport scss from './register.module.scss'\n\nconst cx = classNames.bind(scss)\n\nfunction RegisterSuccess(props) {\n  const { account, location } = props\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const [form, setForm] = useState({\n    ...account,\n    parentId: ''\n  })\n  const [editAcc, setEditAcc] = useState(false)\n  const [editPwd, setEditPwd] = useState(false)\n  const [updateSuccess, setUpdateSuccess] = useState(false)\n\n  function handelCancel() {\n    setEditAcc(false)\n    setEditPwd(false)\n    setForm(state => ({\n      ...state,\n      ...account\n    }))\n  }\n\n  function handelInputChange(field, value) {\n    setForm(state => ({\n      ...state,\n      [field]: value\n    }))\n  }\n\n  function updateAcc() {\n    const params = {\n      type: 1,\n      password: encrypted(account.password),\n      userAccount: form.loginName\n    }\n    if (validateLoginName(form.loginName)) {\n      api.modifyTempLoginName(params).then(({ success, body }) => {\n        if (success) {\n          const params = {\n            loginName: body.loginName,\n            verifyStr: account.password\n          }\n          setEditAcc(0)\n          handelInputChange('loginName', body.loginName)\n          return dispatch(signIn(params))\n        }\n      }).then(({ success }) => {\n        if (success) {\n          if (editPwd) {\n            updatePwd()\n          } else {\n            setUpdateSuccess(true)\n          }\n        }\n      }).catch(e => console.log(e))\n    } else {\n      dialog('请输入c开头5-11位数字或字母')\n    }\n  }\n\n  function updatePwd() {\n    const params = {\n      newPassword: encrypted(form.password),\n      oldPassword: encrypted(account.password)\n    }\n    if (validatePassword(form.password)) {\n      api.modifyPwd(params).then(({ success }) => {\n        if (success) {\n          setEditPwd(0)\n          setUpdateSuccess(true)\n        }\n      })\n    } else {\n      dialog('密码由6-16位数字及字母组成')\n    }\n  }\n\n  function updateParentId() {\n    const params = {\n      changeParentId: 1,\n      parentId: form.parentId,\n      _isShowErrorTips: false\n    }\n    if (validateParentId(form.parentId)) {\n      api.modify(params).then()\n    }\n  }\n\n  function submit() {\n    if (editAcc) {\n      updateAcc()\n    } else if (editPwd) {\n      updatePwd()\n    }\n    updateParentId()\n  }\n\n  function closeDialog() {\n    const path = location.state && location.state.form\n    history.push(path || '/home')\n  }\n\n  return (\n    <div className={cx('dialog')}>\n      {\n        updateSuccess\n          ? <div className={cx('dialog__inner', 'dialog__inner--success')}>\n            <button onClick={closeDialog} className={cx('dialog__close')}>×</button>\n            <i className={cx('dialog__logo')}/>\n            {\n              editAcc\n                ? <p className={cx('dialog__title')}>\n                  <i className={cx('dialog__icon')}/>\n                  <span>恭喜&nbsp;<span className=\"c-white\">{form.loginName}</span>，您已成为凯发会员！</span>\n                </p>\n                : <p className={cx('dialog__title')}>\n                  <i className={cx('dialog__icon')}/>\n                  <span>恭喜&nbsp;<span className=\"c-white\">{form.loginName}</span>，密码修改成功！</span>\n                </p>\n            }\n            <p className={cx('dialog__subtitle')}>\n              感谢您的加入，高达50%的<a className={cx('dialog__link')} href=\"javascript:void (0);\">开户优惠</a>已准备就绪！\n            </p>\n            <div className={cx('dialog__button-wrapper')}>\n              <button onClick={() => history.push('/deposit')}\n                className={cx('dialog__button', 'dialog__button--solid')}>立即存款\n              </button>\n            </div>\n          </div>\n          : <div className={cx('dialog__inner')}>\n            <button onClick={() => history.push('/home')} className={cx('dialog__close')}>×</button>\n            <i className={cx('dialog__icon')}/>\n            <p className={cx('dialog__title')}>\n              恭喜您，开户成功！\n            </p>\n            <div className={cx('dialog__form')}>\n              <div className={cx('dialog__form-item', 'clearfix')}>\n                <label className={cx('dialog__label')} htmlFor=\"acc\">账号</label>\n                {\n                  editAcc\n                    ? <div className={cx('dialog__input-wrapper')}>\n                      <input value={form.loginName}\n                        onChange={e => handelInputChange('loginName', e.target.value)}\n                        className={cx('dialog__input')} id=\"acc\" maxLength=\"12\"\n                        placeholder=\"c开头5-10位数字或字母\" type=\"text\"/>\n                    </div>\n                    : <div className={cx('dialog__input-wrapper')}>\n                      <span className={cx('dialog__account')}>\n                        {editAcc === 0 ? form.loginName : account.loginName}\n                      </span>\n                      {\n                        editAcc === 0 ? null\n                          : <a onClick={() => setEditAcc(true)} className={cx('dialog__link', 'fr')}\n                            href=\"javascript:void (0);\">修改账号</a>\n                      }\n                    </div>\n                }\n              </div>\n              <div className={cx('dialog__form-item', 'clearfix')}>\n                <label className={cx('dialog__label')} htmlFor=\"pwd\">密码</label>\n                {\n                  editPwd\n                    ? <div className={cx('dialog__input-wrapper')}>\n                      <input value={form.password}\n                        onChange={e => handelInputChange('password', e.target.value)}\n                        className={cx('dialog__input')} id=\"pwd\" maxLength=\"16\"\n                        placeholder=\"由6-16位字母和数字组成\" type=\"text\"/>\n                    </div>\n                    : <div className={cx('dialog__input-wrapper')}>\n                      <span className={cx('dialog__account')}>\n                        {editPwd === 0 ? form.password : account.password}\n                      </span>\n                      {\n                        editPwd === 0 ? null\n                          : <a onClick={() => setEditPwd(true)} className={cx('dialog__link', 'fr')}\n                            href=\"javascript:void (0);\">修改密码</a>\n                      }\n                    </div>\n                }\n\n              </div>\n              <div className={cx('dialog__form-item', 'clearfix')}>\n                <label className={cx('dialog__label')} htmlFor=\"code\">推荐码</label>\n                <div className={cx('dialog__input-wrapper')}>\n                  <input value={form.parentId}\n                    onChange={e => handelInputChange('parentId', e.target.value)}\n                    className={cx('dialog__input')} id=\"code\" maxLength=\"10\"\n                    placeholder=\"可选填，推荐码由10位数字组成\" type=\"text\"/>\n                </div>\n              </div>\n              {\n                editAcc || editPwd\n                  ? <div className={cx('dialog__button-wrapper')}>\n                    <button onClick={submit} className={cx('dialog__button', 'dialog__button--solid', 'small')}>确定</button>\n                    <button onClick={handelCancel} className={cx('dialog__button', 'dialog__button--hollow', 'small')}>取消\n                    </button>\n                  </div>\n                  : <div className={cx('dialog__button-wrapper')}>\n                    <button onClick={() => history.push('/deposit')}\n                      className={cx('dialog__button', 'dialog__button--solid')}>立即存款\n                    </button>\n                  </div>\n              }\n            </div>\n            <p className={cx('dialog__newbie-gift')}>\n              <span>存款送五重好礼 最高送<span className={cx('dialog__gift-number')}>5000</span>元，</span>\n              <a className={cx('dialog__link')} href=\"javascript:void (0);\">了解详情</a>\n            </p>\n          </div>\n      }\n    </div>\n  )\n}\n\nRegisterSuccess.propTypes = {\n  location: PropTypes.object.isRequired,\n  account: PropTypes.object.isRequired\n}\n\nexport default RegisterSuccess\n","import React, { useState, useEffect } from 'react'\nimport cryptoJS from 'crypto-js'\nimport { useDispatch } from 'react-redux'\nimport { useLocation } from 'react-router'\nimport classNames from 'classnames/bind'\nimport api from '@/api/api'\nimport PropTypes from 'prop-types'\nimport {\n  validatePhoneNum,\n  verifySmsCode\n} from '@/utils/validate'\nimport {\n  setCustomerInfo,\n  getCustomerInfo,\n  getBalanceInfo\n} from '@/store/actions/sign'\nimport scss from './register.module.scss'\nimport RegisterSuccess from './registerSuccess'\nimport CodeButton from '@/components/code_button/CodeButton'\n\nconst cx = classNames.bind(scss)\n\nfunction Fast({ createSuccess }) {\n  const dispatch = useDispatch()\n  const [img, setImg] = useState(null)\n  const [form, setForm] = useState({\n    captcha: '',\n    captchaId: null,\n    randomStr: Date.now()\n  })\n  const [clickSubmit, setClickSubmit] = useState(false)\n  const validateCaptcha = form.captcha.length === 4\n\n  useEffect(getCaptcha, [])\n\n  function getCaptcha() {\n    const params = {\n      _isNeedLoading: false\n    }\n    api.getCaptcha(params).then(({ head, body }) => {\n      if (head.errCode === '0000') {\n        handelInputChange('captchaId', body.captchaId)\n        setImg('data:image/jpeg;base64,' + body.image)\n      }\n    })\n  }\n\n  function handelInputChange(field, value) {\n    setForm(state => ({\n      ...state,\n      [field]: value\n    }))\n  }\n\n  function submit(e) {\n    if (e.type === 'keypress' && e.which !== 13) return\n    let params = {\n      ...form,\n      randomStr: Date.now()\n    }\n    setClickSubmit(true)\n    if (!validateCaptcha) return\n    api.createAccountAuto(params).then(({ success, body }) => {\n      if (success) {\n        params = {\n          _isNeedLoading: false\n        }\n        dispatch(setCustomerInfo(body))\n        dispatch(getCustomerInfo(params))\n        dispatch(getBalanceInfo(params))\n        createSuccess({\n          loginName: body.loginName,\n          password: body.password\n        })\n      }\n      createSuccess({\n        loginName: 'ckf12345645',\n        password: 'ckf12345645'\n      })\n    }).catch(e => {\n      console.log(e)\n    })\n  }\n\n  return (\n    <div className={cx('form')}>\n      <label className={cx('form__label')} htmlFor=\"captcha\">请输入验证码获得凯发账号</label>\n      <div className={cx('form__input-wrapper')}>\n        <i className={cx('form__prefix', 'form__prefix--phone')}/>\n        <i className={cx('form__prefix', 'form__prefix--line')}/>\n        <input value={form.captcha}\n          onKeyPress={submit}\n          onChange={e => handelInputChange('captcha', e.target.value)}\n          id=\"captcha\" className={cx('form__input', 'form__input--code')}\n          placeholder=\"请输入右侧验证码\" maxLength=\"4\" type=\"text\"/>\n        <img onClick={() => getCaptcha()} className={cx('form__code')} src={img} alt=\"\"/>\n      </div>\n      {\n        clickSubmit && !validateCaptcha &&\n        <p className={cx('form__error')}>\n          <i className={cx('form__icon-status', 'error')}/>\n          <span>请输入4位图片验证码</span>\n        </p>\n      }\n      <button onClick={submit} className={cx('form__button')}>立即开户</button>\n    </div>\n  )\n}\n\nfunction Phone({ createSuccess }) {\n  const dispatch = useDispatch()\n  const [phone, setPhone] = useState('')\n  const [form, setForm] = useState({\n    parentId: '',\n    smsCode: '',\n    messageId: ''\n  })\n  const [clickSubmit, setClickSubmit] = useState(false)\n  const enableCodeButton = validatePhoneNum(phone)\n  const validateSmsCode = verifySmsCode(form.smsCode)\n  const sendCodeParams = {\n    use: 1,\n    mobileNo: phone\n  }\n\n  function handelInputChange(field, value) {\n    setForm(state => ({\n      ...state,\n      [field]: value\n    }))\n  }\n\n  function sendCallBack(messageId) {\n    setForm(state => ({\n      ...state,\n      messageId\n    }))\n  }\n\n  function validateForm() {\n    return validateSmsCode\n  }\n\n  function submit(e) {\n    if (e.type === 'keypress' && e.which !== 13) return\n    setClickSubmit(true)\n    if (!validateForm()) return\n    api.createAccountByMobileNo(form).then(({ head, body }) => {\n      if (head.errCode === '0000') {\n        const params = {\n          _isNeedLoading: false\n        }\n        let password\n        dispatch(setCustomerInfo(body))\n        dispatch(getCustomerInfo(params))\n        dispatch(getBalanceInfo(params))\n        password = cryptoJS.enc.Utf8.parse(body.customerId)\n        password = cryptoJS.DES.decrypt(body.x2, password, {\n          mode: cryptoJS.mode.ECB,\n          padding: cryptoJS.pad.Pkcs7\n        })\n        password = cryptoJS.enc.Utf8.stringify(password)\n        createSuccess({\n          loginName: body.loginName,\n          password\n        })\n      }\n    }).catch(e => {\n      console.log(e)\n    })\n  }\n\n  return (\n    <div className={cx('form')}>\n      <label className={cx('form__label')} htmlFor=\"phone\">手机号码</label>\n      <div className={cx('form__input-wrapper')}>\n        <i className={cx('form__prefix', 'form__prefix--phone')}/>\n        <i className={cx('form__prefix', 'form__prefix--line')}/>\n        <input value={phone} onChange={e => setPhone(e.target.value)}\n          id=\"phone\" className={cx('form__input')}\n          placeholder=\"请输入手机号码\" maxLength=\"12\"\n          type=\"text\"/>\n      </div>\n      {\n        clickSubmit && !enableCodeButton &&\n        <p className={cx('form__error')}>\n          <i className={cx('form__icon-status', 'error')}/>\n          <span>请输入11~12位手机号码</span>\n        </p>\n      }\n      <label className={cx('form__label')} htmlFor=\"smsCode\">短信验证码</label>\n      <div className={cx('form__input-wrapper')}>\n        <i className={cx('form__prefix', 'form__prefix--verify')}/>\n        <i className={cx('form__prefix', 'form__prefix--line')}/>\n        <input value={form.smsCode}\n          onKeyPress={submit}\n          disabled={!form.messageId}\n          onChange={e => handelInputChange('smsCode', e.target.value)}\n          id=\"smsCode\" className={cx('form__input', 'form__input--code')}\n          placeholder=\"请输入短信验证码\" maxLength=\"6\" type=\"text\"/>\n        <CodeButton\n          enable={enableCodeButton}\n          params={sendCodeParams}\n          sendCodeBefore={() => enableCodeButton}\n          sendCallBack={sendCallBack}\n          className={cx('form__code')}/>\n      </div>\n      {\n        clickSubmit && !validateSmsCode &&\n        <p className={cx('form__error')}>\n          <i className={cx('form__icon-status', 'error')}/>\n          <span>请输入6位手机验证码</span>\n        </p>\n      }\n      <label className={cx('form__label')} htmlFor=\"parentId\">推荐码（选填）</label>\n      <div className={cx('form__input-wrapper')}>\n        <i className={cx('form__prefix', 'form__prefix--user')}/>\n        <i className={cx('form__prefix', 'form__prefix--line')}/>\n        <input value={form.parentId}\n          onKeyPress={submit}\n          onChange={e => handelInputChange('parentId', e.target.value)}\n          id=\"parentId\" className={cx('form__input')}\n          placeholder=\"推荐码由10位数字组成\" maxLength=\"10\"\n          type=\"text\"/>\n      </div>\n      <button onClick={submit} className={cx('form__button')}>立即开户</button>\n    </div>\n  )\n}\n\nfunction Register() {\n  const location = useLocation()\n  const type = (location.state && location.state.type) || 'phone'\n  const [activeTab, setActiveTab] = useState(type)\n  const [account, setAccount] = useState({})\n  const [showSuccessDialog, setShowSuccessDialog] = useState(false)\n\n  useEffect(() => setActiveTab(type), [type])\n\n\n  function createSuccess(account) {\n    setAccount(account)\n    setShowSuccessDialog(true)\n  }\n\n  return (\n    <div className={cx('register')}>\n      <div className={cx('register__inner')}>\n        <div className={cx('register__header')}>\n          <span>K8{activeTab === 'fast' ? '极速' : '手机'}开户</span>\n          <div className={cx('register__question')}>\n            <span>如开户遇到问题，请联系&nbsp;</span>\n            <a className={cx('register__link-service')} href=\"javascript:void (0);\">在线客服</a>\n          </div>\n        </div>\n        <div className={cx('register__content')}>\n          <div className={cx('register__box')}>\n            <div className={cx('register__tab', { right: activeTab === 'fast' })}>\n              <a className={cx('register__tab-item', 'fl', { active: activeTab === 'phone' })}\n                onClick={() => setActiveTab('phone')}\n                href=\"javascript:void (0);\">手机开户</a>\n              <a className={cx('register__tab-item', 'fr', { active: activeTab === 'fast' })}\n                onClick={() => setActiveTab('fast')}\n                href=\"javascript:void (0);\">极速开户</a>\n            </div>\n            {\n              activeTab === 'phone'\n                ? <Phone createSuccess={createSuccess}/>\n                : <Fast createSuccess={createSuccess}/>\n            }\n            <p className={cx('register__tips')}>\n              <span>*凯发娱乐支持USDT&nbsp;</span>\n              <span className=\"c-primary\">安全·方便</span>\n              <span>&nbsp;匿名买卖、不受银行监管、价格稳定</span>\n            </p>\n          </div>\n        </div>\n      </div>\n      {showSuccessDialog && <RegisterSuccess location={location} account={account}/>}\n    </div>\n  )\n}\n\nFast.propTypes = Phone.propTypes = {\n  createSuccess: PropTypes.func.isRequired\n}\n\nexport default Register\n"],"sourceRoot":""}