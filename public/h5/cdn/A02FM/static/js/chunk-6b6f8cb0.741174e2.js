(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b6f8cb0"],{"3b98":function(e,t,a){"use strict";var s=a("f43b"),i=a.n(s);i.a},"4c64":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"games page"},[a("Header",{scopedSlots:e._u([{key:"right",fn:function(){return[a("button",{staticClass:"games__search header__button",on:{click:function(t){e.showSearch=!0}}},[a("i",{staticClass:"games__icon-search"}),e._v("搜游戏 ")])]},proxy:!0}])}),a("div",{ref:"container",staticClass:"container",on:{scroll:e.scroll}},[a("banner",{attrs:{field:"game_new"}}),a("div",{ref:"tab",staticClass:"games__tab"},[a("ul",{staticClass:"games__tab-list border-bottom",class:{fixed:e.tabFixed},on:{touchmove:function(e){e.preventDefault()}}},e._l(e.tabs,(function(t,s){return a("li",{key:s,staticClass:"games__tab-item",class:{active:e.activeTabIndex===s},on:{click:function(t){return e.toggleTab(s)}}},[e._v(" "+e._s(t.name)+" ")])})),0)]),a("ul",{staticClass:"games__list clearfix"},[e._l(e.pageData.data,(function(t,s){return a("li",{key:s,staticClass:"games__item"},[a("a",{staticClass:"games__img-wrapper default-bg-small",attrs:{href:"javascript:void (0);"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.wmsImgPath+t.imgUrl,expression:"wmsImgPath+item.imgUrl"}],staticClass:"games__img",attrs:{alt:t.cnName}}),!e.loginStatus&&t.canTry?a("i",{staticClass:"home__icon-try"}):e._e(),a("i",{staticClass:"games__heart"}),a("p",{staticClass:"games__tag-wrapper"},[a("span",{staticClass:"games__tag games__tag--provider"},[e._v(e._s(t.provider))]),t.isPromo?a("span",{staticClass:"games__tag games__tag--promo"},[e._v("特惠")]):e._e(),t.line?a("span",{staticClass:"games__tag games__tag--line"},[e._v(e._s(t.line)+"线")]):e._e(),t.isPool?a("span",{staticClass:"games__tag games__tag--jackpot"},[e._v("彩金")]):e._e()]),e.getGameStatus(t.gameCode)?a("div",{staticClass:"maintain-mask"},[e._m(0,!0)]):e._e()]),a("p",{staticClass:"games__name"},[e._v(e._s(t.cnName))])])})),e.pageData.data&&e.pageData.data.length?e._e():a("li",{staticClass:"games__no-data-tips"},[e._v("很抱歉,没有找到与之相关的游戏~")])],2)],1),e.showSearch?a("searchGame",{attrs:{showSearch:e.showSearch},on:{filterGames:e.filterGames,"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t}}}):e._e()],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"maintain-mask__inner"},[a("i",{staticClass:"maintain-mask__icon"}),a("p",{staticClass:"maintain-mask__text"},[e._v("维护中")])])}],c=(a("99af"),a("5530")),n=a("0418"),r=a("84af"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search page"},[a("div",{staticClass:"search__header"},[a("div",{staticClass:"search__input-wrapper"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.search,expression:"search",modifiers:{trim:!0}}],staticClass:"search__input",attrs:{type:"text",placeholder:"请输入关键字..."},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),a("a",{staticClass:"search__cancel",attrs:{href:"javascript:void (0);"},on:{click:function(t){return e.$emit("update:showSearch",!1)}}},[e._v("取消")])]),a("div",{staticClass:"search__content"},[a("h6",{staticClass:"search__title"},[e._v("游戏平台")]),a("ul",{staticClass:"search__list clearfix"},e._l(e.providerList,(function(t,s){return a("li",{key:s,staticClass:"search__item",class:{active:t.selected},on:{click:function(a){return e.selectedItem(t,"providerList")}}},[e._v(" "+e._s(t.name)+" ")])})),0),a("h6",{staticClass:"search__title"},[e._v("赔付线")]),a("ul",{staticClass:"search__list clearfix"},e._l(e.lineList,(function(t,s){return a("li",{key:s,staticClass:"search__item",class:{active:t.selected},on:{click:function(a){return e.selectedItem(t,"lineList")}}},[e._v(" "+e._s(t.name)+" ")])})),0),a("ul",{staticClass:"search__record"},e._l(e.recordList,(function(t,s){return a("li",{key:s,staticClass:"search__record-item border-bottom",on:{click:function(a){e.search=t}}},[a("span",[e._v(e._s(t))]),a("i",{staticClass:"search__icon-record",on:{click:function(t){return t.stopPropagation(),e.recordList.splice(s,1)}}})])})),0),a("button",{staticClass:"search__button button",on:{click:e.submit}},[e._v("确定")])])])},l=[],m=(a("4de4"),a("4160"),a("d81d"),a("fb6a"),a("ac1f"),a("841c"),a("159b"),{name:"searchGame",props:{showSearch:Boolean},data:function(){return{search:null,lineList:[{name:"全部",code:null,selected:!1},{name:"1-4线",code:"1-4",selected:!1},{name:"5-9线",code:"5-9",selected:!1},{name:"15-25线",code:"15-25",selected:!1},{name:"30-50线",code:"30-50",selected:!1},{name:"51-243线",code:"51-243",selected:!1}],providerList:[{name:"全部",code:null,selected:!1},{name:"PT",code:"PT",selected:!1},{name:"MG",code:"MG",selected:!1},{name:"AG",code:"AG",selected:!1},{name:"TTG",code:"TTG",selected:!1},{name:"PP",code:"PP",selected:!1},{name:"PNG",code:"PNG",selected:!1}],recordList:[]}},created:function(){var e=localStorage.getItem("gameSearchRecordList")||"[]";this.recordList=JSON.parse(e)},destroyed:function(){},methods:{selectedItem:function(e,t){null===e.code?this[t].forEach((function(e){null!==e.code&&(e.selected=!1)})):this[t][0].selected=!1,e.selected=!e.selected},submit:function(){var e=this.lineList.filter((function(e){return e.selected})).map((function(e){return e.code})),t=this.providerList.filter((function(e){return e.selected})).map((function(e){return e.code}));this.lineList[0].selected&&(e=null),this.providerList[0].selected&&(t=null),this.$emit("update:showSearch",!1),this.$emit("filterGames",{lineList:e,providerList:t,search:this.search}),this.search&&this.search!==this.recordList[0]&&this.recordList.unshift(this.search),localStorage.setItem("gameSearchRecordList",JSON.stringify(this.recordList.slice(0,3)))}}}),d=m,h=(a("a02b"),a("2877")),u=Object(h["a"])(d,o,l,!1,null,"4b54cd69",null),g=u.exports,_=a("ca00"),f=a("06de"),p=a("5880"),v={name:"games",components:{Header:n["a"],Banner:r["a"],searchGame:g},data:function(){return{tabs:[{name:"全部"},{name:"热门",params:{isHot:!0}},{name:"彩金池",params:{isPool:!0}},{name:"最新游戏",params:{isNew:!0}},{name:"我的收藏",params:{isFavorite:!0}}],activeTabIndex:0,tabFixed:!1,gameList:[],pageParams:{page:1,pageSize:10},filterParams:{},pageData:{},isLoadAll:!1,showSearch:!1}},computed:Object(c["a"])({},Object(p["mapState"])(["gameStatus"]),{},Object(p["mapGetters"])(["loginStatus"]),{wmsImgPath:function(){var e=window.OMConfig.wmsServer,t=window.OMConfig.wmsCdnPath,a=window.OMConfig.wmsEnvPath;return"".concat(e+t,"/_wms/img/").concat(a,"/electronicgames/")},activeTab:function(){return this.tabs[this.activeTabIndex]}}),activated:function(){var e=this;this.tabFixed=!1,this.gameList.length||this.$loading.open("loadGames"),this.getGames().then((function(){e.$loading.hide("loadGames")})).catch((function(){e.$loading.hide("loadGames")}))},deactivated:function(){this.isLoadAll=!1,this.activeTabIndex=0,this.pageParams={page:1,pageSize:10},this.$loading.hide("loadGames")},methods:{getGames:function(){var e=this,t=window.OMConfig.wmsServer,a=window.OMConfig.wmsEnvPath,s=window.OMConfig.wmsCdnPath,i="".concat(t+s,"/_wms/js/").concat(a,"/electronicgames/games.js");return Object(f["a"])(i).then((function(t){e.gameList=t,e.pageData=Object(f["b"])(e.gameList,e.pageParams)}))},getPageData:function(){this.pageData=Object(f["b"])(this.gameList,Object(c["a"])({},this.pageParams,{},this.filterParams,{},this.activeTab.params))},filterGames:function(e){this.$refs.container.scrollIntoView(),this.pageParams={page:1,pageSize:10},this.filterParams=e,this.getPageData()},getGameStatus:function(e){return this.gameStatus[e]&&0===this.gameStatus[e].flag},toggleTab:function(e){var t=this,a=this.$refs.container.scrollTop;this.activeTabIndex=e,Object(_["a"])(a,0,2,(function(e,a){t.$refs.container.scrollTo(0,e),a&&(t.pageParams.page=1,t.filterParams={},t.getPageData())}))},scroll:function(e){var t=e.target.scrollTop,a=e.target.scrollHeight-(t+e.target.clientHeight);this._scrollTop<t&&a<100&&this.loadNextPage(),this.tabFixed=t>this.$refs.tab.offsetTop,this._scrollTop=t},loadNextPage:function(){var e=this;this.pageParams.page<this.pageData.maxPage?(this.pageParams.page++,this.getPageData()):this.isLoadAll||(this.isLoadAll=!0,this.$toast({type:"error",message:"已经到底了~",callback:function(){e.isLoadAll=!1}}))}}},b=v,w=(a("3b98"),Object(h["a"])(b,s,i,!1,null,"39536e9e",null));t["default"]=w.exports},a02b:function(e,t,a){"use strict";var s=a("c125"),i=a.n(s);i.a},c125:function(e,t,a){},f43b:function(e,t,a){}}]);