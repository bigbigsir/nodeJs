(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-021da829"],{"172d":function(t,e,n){},"22d5":function(t,e,n){"use strict";var a=n("31ff"),s=n.n(a);s.a},3053:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sign"},[n("div",{staticClass:"sign__header clearfix"},[n("i",{staticClass:"sign__back",on:{click:function(e){return t.$router.replace("/")}}}),n("button",{staticClass:"sign__button",on:{click:function(e){return t.$router.replace("/login")}}},[t._v("登录")])]),n("h1",{staticClass:"sign__title"},[t._v(" "+t._s(t.isFast?"极速开户":"手机开户")+" ")]),n("form",{staticClass:"form",on:{submit:function(t){t.preventDefault()}}},[t.isFast?[n("div",{staticClass:"form__item"},[n("label",{staticClass:"form__label",attrs:{for:"sign_in_code"}},[t._v(" 请输入验证码获得凯发账号 ")]),n("div",{staticClass:"form__content form__content--suffix"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.fastForm.captcha,expression:"fastForm.captcha",modifiers:{trim:!0}}],staticClass:"form__input sign-up-form__input ",attrs:{id:"sign_in_code",maxlength:"4",type:"text"},domProps:{value:t.fastForm.captcha},on:{input:[function(e){e.target.composing||t.$set(t.fastForm,"captcha",e.target.value.trim())},t.replaceNonNum],blur:function(e){return t.$forceUpdate()}}}),n("img",{staticClass:"form__captcha",attrs:{src:t.image,alt:""},on:{click:t.getCaptcha}})])])]:[n("div",{staticClass:"form__item"},[n("label",{staticClass:"form__label",attrs:{for:"sign_up_acc"}},[t._v(" 手机号 ")]),n("div",{staticClass:"form__content"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.phoneNumber,expression:"phoneNumber",modifiers:{trim:!0}}],staticClass:"form__input sign-up-form__input",attrs:{id:"sign_up_acc",maxlength:"12",placeholder:"请输入手机号码",type:"text"},domProps:{value:t.phoneNumber},on:{input:[function(e){e.target.composing||(t.phoneNumber=e.target.value.trim())},t.replaceNonNum],blur:function(e){return t.$forceUpdate()}}}),n("SeedCode",{attrs:{params:t.sendCodeParams,enable:t.enableSendBtn},on:{sendCodeBefore:t.sendCodeBefore,sendCallBack:t.sendCallBack}})],1)]),n("div",{staticClass:"form__item"},[t._m(0),n("div",{staticClass:"form__content"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.phoneForm.smsCode,expression:"phoneForm.smsCode",modifiers:{trim:!0}}],staticClass:"form__input sign-up-form__input",attrs:{id:"sign_up_pwd",maxlength:"6",placeholder:"请输入6位短信验证码",type:"text"},domProps:{value:t.phoneForm.smsCode},on:{input:[function(e){e.target.composing||t.$set(t.phoneForm,"smsCode",e.target.value.trim())},t.replaceNonNum],blur:function(e){return t.$forceUpdate()}}})])]),n("div",{staticClass:"form__item"},[n("label",{staticClass:"form__label",attrs:{for:"sign_up_parent"}},[t._v(" 好友推荐码（选填） ")]),n("div",{staticClass:"form__content"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.phoneForm.parentId,expression:"phoneForm.parentId",modifiers:{trim:!0}}],staticClass:"form__input sign-up-form__input",attrs:{id:"sign_up_parent",maxlength:"10",placeholder:"推荐码由10位数字组成",type:"text"},domProps:{value:t.phoneForm.parentId},on:{input:[function(e){e.target.composing||t.$set(t.phoneForm,"parentId",e.target.value.trim())},t.replaceNonNum],blur:function(e){return t.$forceUpdate()}}})])])],n("button",{staticClass:"form__button form__button--full",class:{"disabled-opacity":!t.validateForm},on:{click:t.submit}},[t._v(" 立即开户 ")]),n("button",{staticClass:"form__button form__button--empty border",on:{click:function(e){t.isFast=!t.isFast}}},[t._v(" "+t._s(t.isFast?"手机注册":"极速开户")+" ")])],2),t._m(1)])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"form__label",attrs:{for:"sign_up_pwd"}},[t._v(" 6位验证码 "),n("a",{staticClass:"form__link-service",attrs:{href:"javascript:void (0);"}},[t._v("收不到验证码？")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"sign__notes sign-up__notes"},[t._v(" 凯发娱乐支持USDT "),n("span",{staticClass:"sign__notes-strong"},[t._v("安全 • 方便")]),t._v(" 匿名买卖、不受银行监管 ")])}],r=n("a2c5"),o=n.n(r),i=n("5880"),c=n("aa98"),u=n("61f7");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={name:"sign_up",components:{SeedCode:c["a"]},data:function(){return{image:null,isFast:!1,phoneNumber:null,fastForm:{captcha:null,captchaId:null,randomStr:Date.now()},phoneForm:{parentId:null,smsCode:null,messageId:null},sendCodeParams:{use:1,mobileNo:null}}},computed:{validateForm:function(){return this.isFast?this.fastForm.captcha&&4===this.fastForm.captcha.length:this.phoneNumber&&this.phoneNumber.length>=11&&this.phoneForm.smsCode&&6===this.phoneForm.smsCode.length},enableSendBtn:function(){return Object(u["d"])(this.phoneNumber)}},created:function(){this.getCaptcha(),this.toggleSideBar(!1)},methods:m(m(m({},Object(i["mapMutations"])(["toggleSideBar","setCustomerInfo"])),Object(i["mapActions"])(["getCustomerInfo","getBalanceInfo"])),{},{replaceNonNum:function(t){t.target.value=t.target.value.replace(/[^0-9]/gi,"")},getCaptcha:function(){var t=this,e={_isNeedLoading:!1};this.$api.getCaptcha(e).then((function(e){var n=e.head,a=e.body;"0000"===n.errCode&&(t.fastForm.captchaId=a.captchaId,t.image="data:image/jpeg;base64,"+a.image)}))},submit:function(){var t,e=this;this.validateForm&&(this.isFast?(this.fastForm.randomStr=Date.now(),t=this.$api.createAccountAuto(this.fastForm)):t=this.$api.createAccountByMobileNo(this.phoneForm),t.then((function(t){var n=t.head,a=t.body;if("0000"===n.errCode){var s={_isNeedLoading:!1};e.setCustomerInfo(a),e.getCustomerInfo(s),e.getBalanceInfo(s),e.$toast.success({message:"注册成功",callback:function(){var t=a.loginName,n=a.password;e.isFast||(n=o.a.enc.Utf8.parse(a.customerId),n=o.a.DES.decrypt(a.x2,n,{mode:o.a.mode.ECB,padding:o.a.pad.Pkcs7}),n=o.a.enc.Utf8.stringify(n)),e.$router.replace({name:"registerSuccess",params:{loginName:t,password:n,isFast:e.isFast}})}})}})).catch((function(t){console.log(t)})))},sendCodeBefore:function(){this.sendCodeParams.mobileNo=this.$encrypted(this.phoneNumber)},sendCallBack:function(t){this.phoneForm.messageId=t}})},f=p,_=(n("51ca"),n("2877")),h=Object(_["a"])(f,a,s,!1,null,"56584645",null);e["default"]=h.exports},"31ff":function(t,e,n){},"51ca":function(t,e,n){"use strict";var a=n("172d"),s=n.n(a);s.a},"61f7":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return l}));var a=/^[cC]\w{4,10}/,s=/^1\d{10,11}$/,r=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/,o=/^\d{10}/;function i(t){return a.test(t)}function c(t){return s.test(t)}function u(t){return r.test(t)}function l(t){return o.test(t)}},aa98:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"seed-code border",class:{disabled:!t.enable||t.sending},domProps:{innerHTML:t._s(t.text)},on:{click:t.sendCode}})},s=[],r={name:"SeedCode",props:{enable:{type:Boolean,default:!1},params:{type:Object,default:function(){return{}}}},data:function(){return{duration:60,sending:!1,isFirstSend:!0}},computed:{text:function(){return this.sending?'重新发送(<span class="monospaced-font">'.concat(this.duration,"</span>)"):this.isFirstSend?"发送验证码":"重新发送"}},methods:{sendCode:function(){var t=this;this.enable&&!this.sending&&(this.$emit("sendCodeBefore"),this.$api.sendCode(this.params).then((function(e){var n=e.head,a=e.body;"0000"===n.errCode?(t.timeout(),t.$emit("sendCallBack",a.messageId),t.$toast.success("短信验证码已发送，".concat(a.expire/60,"分钟内输入有效，请勿泄漏"))):t.$emit("sendCallBack",null),t.isFirstSend=!1})).catch((function(){t.$emit("sendCallBack",null)})))},timeout:function(){var t=this;this.sending=!0;var e=setInterval((function(){t.duration--,t.duration<=0&&(t.duration=60,t.sending=!1,clearInterval(e))}),1e3)}}},o=r,i=(n("22d5"),n("2877")),c=Object(i["a"])(o,a,s,!1,null,null,null);e["a"]=c.exports}}]);