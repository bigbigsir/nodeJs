(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67656254"],{"22d5":function(t,e,n){"use strict";var a=n("31ff"),i=n.n(a);i.a},"31ff":function(t,e,n){},"61f7":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return d}));var a=/^[cC]\w{4,10}/,i=/^1\d{10,11}$/,s=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/,o=/^\d{10}/;function r(t){return a.test(t)}function c(t){return i.test(t)}function l(t){return s.test(t)}function d(t){return o.test(t)}},"6f92":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sign sign-in"},[n("div",{staticClass:"sign__header clearfix"},[n("i",{staticClass:"sign__back",on:{click:function(e){return t.$router.replace("/")}}}),n("button",{staticClass:"sign__button",on:{click:function(e){return t.$router.replace("/register")}}},[t._v("注册")])]),n("h1",{staticClass:"sign__title"},[t._v("登录")]),n("form",{staticClass:"form",on:{submit:function(t){t.preventDefault()}}},[n("div",{staticClass:"form__item"},[n("label",{staticClass:"form__label",attrs:{for:"sign_in_acc"}},[t._v(" 手机号／用户名 ")]),n("div",{staticClass:"form__content"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.loginForm.loginName,expression:"loginForm.loginName",modifiers:{trim:!0}}],staticClass:"form__input sign-in-form__input ",attrs:{id:"sign_in_acc",maxlength:"12",size:"13",type:"text"},domProps:{value:t.loginForm.loginName},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"loginName",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),n("SeedCode",{staticClass:"form__button--suffix",attrs:{params:t.sendCodeParams,enable:t.enableSendBtn},on:{sendCodeBefore:t.sendCodeBefore,sendCallBack:t.sendCallBack}})],1)]),n("div",{staticClass:"form__item"},[t._m(0),n("div",{staticClass:"form__content"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.loginForm.verifyStr,expression:"loginForm.verifyStr",modifiers:{trim:!0}}],staticClass:"form__input sign-in-form__input",attrs:{id:"sign_in_pwd",maxlength:"16",type:"password"},domProps:{value:t.loginForm.verifyStr},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"verifyStr",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),t.isNeedCaptcha?n("div",{staticClass:"form__item"},[n("label",{staticClass:"form__label",attrs:{for:"sign_in_code"}},[t._v("图形验证码")]),n("div",{staticClass:"form__content form__content--between"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.loginForm.captcha,expression:"loginForm.captcha",modifiers:{trim:!0}}],staticClass:"form__input form__input--limit-width sign-in-form__input",attrs:{id:"sign_in_code",maxlength:"4",type:"text"},domProps:{value:t.loginForm.captcha},on:{input:[function(e){e.target.composing||t.$set(t.loginForm,"captcha",e.target.value.trim())},t.replaceNonNum],blur:function(e){return t.$forceUpdate()}}}),n("img",{staticClass:"form__captcha",attrs:{src:t.image,alt:""},on:{click:t.getCaptcha}})])]):t._e(),n("button",{staticClass:"form__button form__button--full",class:{"disabled-opacity":!t.validateForm},on:{click:t.submit}},[t._v("登录 ")])]),t._m(1),t._m(2)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"form__label",attrs:{for:"sign_in_pwd"}},[t._v(" 验证码／密码 "),n("a",{staticClass:"form__link-service",attrs:{href:"javascript:void (0);"}},[t._v("收不到验证码？")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"sign__link-forget-password"},[n("a",{staticClass:"link",attrs:{href:"javascript:void (0)"}},[t._v("忘记账号／密码？")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"sign__notes"},[t._v(" 凯发娱乐支持USDT "),n("span",{staticClass:"sign__notes-strong"},[t._v("安全 • 方便")]),t._v(" 匿名买卖、不受银行监管 ")])}],s=(n("ac1f"),n("5319"),n("5530")),o=n("5880"),r=n("aa98"),c=n("61f7"),l={name:"sign_in",components:{SeedCode:r["a"]},beforeRouteEnter:function(t,e,n){n((function(t){t.formPath="/register"===e.path?"/":e.fullPath}))},data:function(){return{formPath:"/",loginForm:{loginName:null,verifyStr:"",messageId:null,captcha:"",captchaId:null},image:null,isNeedCaptcha:!1,sendCodeParams:{use:2,mobileNo:null}}},computed:{enableSendBtn:function(){return Object(c["d"])(this.loginForm.loginName)},validateForm:function(){return this.enableSendBtn?this.loginForm.messageId&&this.loginForm.verifyStr&&6===this.loginForm.verifyStr.length&&(!this.loginForm.captchaId||4===this.loginForm.captcha.length):Object(c["a"])(this.loginForm.loginName)&&Object(c["c"])(this.loginForm.verifyStr)&&(!this.loginForm.captchaId||4===this.loginForm.captcha.length)}},created:function(){this.getIsNeedCaptcha(),this.toggleSideBar(!1)},methods:Object(s["a"])({},Object(o["mapMutations"])(["toggleSideBar","setCustomerInfo"]),{},Object(o["mapActions"])(["login","getCustomerInfo","getBalanceInfo"]),{getIsNeedCaptcha:function(){var t=this,e={_isNeedLoading:!1};this.$api.getIsNeedCaptcha(e).then((function(e){var n=e.head,a=e.body;"0000"===n.errCode&&(t.isNeedCaptcha=!!a.needCaptcha,t.isNeedCaptcha?t.getCaptcha():(t.loginForm.captcha="",t.loginForm.captchaId=null))}))},getCaptcha:function(){var t=this,e={_isNeedLoading:!1};this.$api.getCaptcha(e).then((function(e){var n=e.head,a=e.body;"0000"===n.errCode&&(t.loginForm.captchaId=a.captchaId,t.image="data:image/jpeg;base64,"+a.image)}))},replaceNonNum:function(t){t.target.value=t.target.value.replace(/[^0-9]/gi,"")},sendCodeBefore:function(){this.sendCodeParams.mobileNo=this.$encrypted(this.loginForm.loginName)},sendCallBack:function(t){this.loginForm.messageId=t},submit:function(){var t=this;this.validateForm&&this.login(this.loginForm).then((function(e){var n=e.head;"0000"===n.errCode?t.$toast.success({message:"登录成功",callback:function(){t.$router.replace(t.formPath)}}):t.getIsNeedCaptcha()}))}})},d=l,u=(n("b055"),n("2877")),m=Object(u["a"])(d,a,i,!1,null,"7acd7282",null);e["default"]=m.exports},aa98:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"seed-code border",class:{disabled:!t.enable||t.sending},domProps:{innerHTML:t._s(t.text)},on:{click:t.sendCode}})},i=[],s={name:"SeedCode",props:{enable:{type:Boolean,default:!1},params:{type:Object,default:function(){return{}}}},data:function(){return{duration:60,sending:!1,isFirstSend:!0}},computed:{text:function(){return this.sending?'重新发送(<span class="monospaced-font">'.concat(this.duration,"</span>)"):this.isFirstSend?"发送验证码":"重新发送"}},methods:{sendCode:function(){var t=this;this.enable&&!this.sending&&(this.$emit("sendCodeBefore"),this.$api.sendCode(this.params).then((function(e){var n=e.head,a=e.body;"0000"===n.errCode?(t.timeout(),t.$emit("sendCallBack",a.messageId),t.$toast.success("短信验证码已发送，".concat(a.expire/60,"分钟内输入有效，请勿泄漏"))):t.$emit("sendCallBack",null),t.isFirstSend=!1})).catch((function(){t.$emit("sendCallBack",null)})))},timeout:function(){var t=this;this.sending=!0;var e=setInterval((function(){t.duration--,t.duration<=0&&(t.duration=60,t.sending=!1,clearInterval(e))}),1e3)}}},o=s,r=(n("22d5"),n("2877")),c=Object(r["a"])(o,a,i,!1,null,null,null);e["a"]=c.exports},b055:function(t,e,n){"use strict";var a=n("dc75"),i=n.n(a);i.a},dc75:function(t,e,n){}}]);