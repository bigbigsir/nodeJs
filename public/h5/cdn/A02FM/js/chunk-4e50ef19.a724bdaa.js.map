{"version":3,"sources":["webpack:///./src/views/games/games.vue?aaf7","webpack:///./src/views/games/games.vue?02da","webpack:///./src/views/games/searchGame.vue?65df","webpack:///src/views/games/searchGame.vue","webpack:///./src/views/games/searchGame.vue?d9c8","webpack:///./src/views/games/searchGame.vue","webpack:///src/views/games/games.vue","webpack:///./src/views/games/games.vue?08a3","webpack:///./src/views/games/games.vue","webpack:///./src/views/games/searchGame.vue?eb71"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","scopedSlots","_u","key","fn","on","$event","showSearch","_v","proxy","ref","scroll","attrs","class","tabFixed","preventDefault","_l","item","index","activeTabIndex","toggleTab","_s","name","pageData","directives","rawName","value","wmsImgPath","imgUrl","expression","cnName","loginStatus","canTry","$useWebpImg","_e","provider","line","getGameStatus","gameCode","data","length","filterGames","staticRenderFns","modifiers","domProps","target","composing","search","trim","$forceUpdate","$emit","selected","selectedItem","stopPropagation","recordList","splice","submit","props","Boolean","lineList","providerList","created","JSON","parse","destroyed","methods","code","list","forEach","unshift","localStorage","setItem","stringify","slice","component","components","Header","Banner","searchGame","tabs","gameList","pageParams","page","pageSize","filterParams","isLoadAll","computed","activeTab","activated","$loading","open","getGames","then","deactivated","hide","getPageData","$refs","container","scrollIntoView","params","gameStatus","flag","isDone","_scrollTop","scrollTop","triggerHeight","loadNextPage","tab","offsetTop","maxPage","$toast","type","message","callback"],"mappings":"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","file":"cdn/A02FM/js/chunk-4e50ef19.a724bdaa.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./games.vue?vue&type=style&index=0&id=0397e23c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./games.vue?vue&type=style&index=0&id=0397e23c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"games page\"},[_c('Header',{scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('button',{staticClass:\"games__search header__button\",on:{\"click\":function($event){_vm.showSearch=true}}},[_c('i',{staticClass:\"games__icon-search\"}),_vm._v(\"搜游戏 \")])]},proxy:true}])}),_c('div',{ref:\"container\",staticClass:\"container\",on:{\"scroll\":_vm.scroll}},[_c('banner',{attrs:{\"field\":\"game_new\"}}),_c('div',{ref:\"tab\",staticClass:\"games__tab\"},[_c('ul',{staticClass:\"games__tab-list border-bottom\",class:{'fixed':_vm.tabFixed},on:{\"touchmove\":function($event){$event.preventDefault();}}},_vm._l((_vm.tabs),function(item,index){return _c('li',{key:index,staticClass:\"games__tab-item\",class:{'active':_vm.activeTabIndex===index},on:{\"click\":function($event){return _vm.toggleTab(index)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0)]),_c('ul',{staticClass:\"games__list clearfix\"},[_vm._l((_vm.pageData.data),function(item,index){return _c('li',{key:index,staticClass:\"games__item\"},[_c('a',{staticClass:\"games__img-wrapper default-bg-small\",attrs:{\"href\":\"javascript:void (0);\"}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.wmsImgPath+item.imgUrl),expression:\"wmsImgPath+item.imgUrl\"}],staticClass:\"games__img\",attrs:{\"alt\":item.cnName}}),(!_vm.loginStatus&&item.canTry)?_c('img',{staticClass:\"games__icon-try\",attrs:{\"src\":_vm.$useWebpImg('@/assets/img/common/icon_try.png'),\"alt\":\"试玩\"}}):_vm._e(),_c('i',{staticClass:\"games__heart\"}),_c('p',{staticClass:\"games__tag-wrapper\"},[_c('span',{staticClass:\"games__tag games__tag--provider\"},[_vm._v(_vm._s(item.provider))]),(item.isPromo)?_c('span',{staticClass:\"games__tag games__tag--promo\"},[_vm._v(\"特惠\")]):_vm._e(),(item.line)?_c('span',{staticClass:\"games__tag games__tag--line\"},[_vm._v(_vm._s(item.line)+\"线\")]):_vm._e(),(item.isPool)?_c('span',{staticClass:\"games__tag games__tag--jackpot\"},[_vm._v(\"彩金\")]):_vm._e()]),(_vm.getGameStatus(item.gameCode))?_c('div',{staticClass:\"maintain-mask\"},[_c('div',{staticClass:\"maintain-mask__inner\"},[_c('img',{staticClass:\"maintain-mask__icon\",attrs:{\"src\":_vm.$useWebpImg('@/assets/img/common/icon_time.png'),\"alt\":\"\"}}),_c('p',{staticClass:\"maintain-mask__text\"},[_vm._v(\"维护中\")])])]):_vm._e()]),_c('p',{staticClass:\"games__name\"},[_vm._v(_vm._s(item.cnName))])])}),(!_vm.pageData.data||!_vm.pageData.data.length)?_c('li',{staticClass:\"games__no-data-tips\"},[_vm._v(\"很抱歉,没有找到与之相关的游戏~\")]):_vm._e()],2)],1),(_vm.showSearch)?_c('searchGame',{attrs:{\"showSearch\":_vm.showSearch},on:{\"filterGames\":_vm.filterGames,\"update:showSearch\":function($event){_vm.showSearch=$event},\"update:show-search\":function($event){_vm.showSearch=$event}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search page\"},[_c('div',{staticClass:\"search__header\"},[_c('div',{staticClass:\"search__input-wrapper\"},[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.search),expression:\"search\",modifiers:{\"trim\":true}}],staticClass:\"search__input\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入关键字...\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('a',{staticClass:\"search__cancel\",attrs:{\"href\":\"javascript:void (0);\"},on:{\"click\":function($event){return _vm.$emit('update:showSearch',false)}}},[_vm._v(\"取消\")])]),_c('div',{staticClass:\"search__content\"},[_c('h6',{staticClass:\"search__title\"},[_vm._v(\"游戏平台\")]),_c('ul',{staticClass:\"search__list clearfix\"},_vm._l((_vm.providerList),function(item,index){return _c('li',{key:index,staticClass:\"search__item\",class:{'active':item.selected},on:{\"click\":function($event){return _vm.selectedItem(item,'providerList')}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0),_c('h6',{staticClass:\"search__title\"},[_vm._v(\"赔付线\")]),_c('ul',{staticClass:\"search__list clearfix\"},_vm._l((_vm.lineList),function(item,index){return _c('li',{key:index,staticClass:\"search__item\",class:{'active':item.selected},on:{\"click\":function($event){return _vm.selectedItem(item,'lineList')}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0),_c('ul',{staticClass:\"search__record\"},_vm._l((_vm.recordList),function(item,index){return _c('li',{key:index,staticClass:\"search__record-item border-bottom\",on:{\"click\":function($event){_vm.search=item}}},[_c('span',[_vm._v(_vm._s(item))]),_c('i',{staticClass:\"search__icon-record\",on:{\"click\":function($event){$event.stopPropagation();return _vm.recordList.splice(index,1)}}})])}),0),_c('button',{staticClass:\"search__button button\",on:{\"click\":_vm.submit}},[_vm._v(\"确定\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"search page\">\n    <div class=\"search__header\">\n      <div class=\"search__input-wrapper\">\n        <label>\n          <input v-model.trim=\"search\" class=\"search__input\" type=\"text\" placeholder=\"请输入关键字...\">\n        </label>\n      </div>\n      <a @click=\"$emit('update:showSearch',false)\" class=\"search__cancel\" href=\"javascript:void (0);\">取消</a>\n    </div>\n    <div class=\"search__content\">\n      <h6 class=\"search__title\">游戏平台</h6>\n      <ul class=\"search__list clearfix\">\n        <li v-for=\"(item,index) in providerList\" :key=\"index\"\n            @click=\"selectedItem(item,'providerList')\"\n            :class=\"{'active':item.selected}\" class=\"search__item\">\n          {{item.name}}\n        </li>\n      </ul>\n      <h6 class=\"search__title\">赔付线</h6>\n      <ul class=\"search__list clearfix\">\n        <li v-for=\"(item,index) in lineList\" :key=\"index\"\n            @click=\"selectedItem(item,'lineList')\"\n            :class=\"{'active':item.selected}\" class=\"search__item\">\n          {{item.name}}\n        </li>\n      </ul>\n      <ul class=\"search__record\">\n        <li v-for=\"(item,index) in recordList\" :key=\"index\"\n            @click=\"search=item\"\n            class=\"search__record-item border-bottom\">\n          <span>{{item}}</span>\n          <i @click.stop=\"recordList.splice(index,1)\" class=\"search__icon-record\"></i>\n        </li>\n      </ul>\n      <button @click=\"submit\" class=\"search__button button\">确定</button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'searchGame',\n  props: {\n    showSearch: Boolean\n  },\n  data() {\n    return {\n      search: null,\n      lineList: [\n        {\n          name: '全部',\n          code: null,\n          selected: false\n        }, {\n          name: '1-4线',\n          code: '1-4',\n          selected: false\n        }, {\n          name: '5-9线',\n          code: '5-9',\n          selected: false\n        }, {\n          name: '15-25线',\n          code: '15-25',\n          selected: false\n        }, {\n          name: '30-50线',\n          code: '30-50',\n          selected: false\n        }, {\n          name: '51-243线',\n          code: '51-243',\n          selected: false\n        }\n      ],\n      providerList: [\n        {\n          name: '全部',\n          code: null,\n          selected: false\n        }, {\n          name: 'PT',\n          code: 'PT',\n          selected: false\n        }, {\n          name: 'MG',\n          code: 'MG',\n          selected: false\n        }, {\n          name: 'AG',\n          code: 'AG',\n          selected: false\n        }, {\n          name: 'TTG',\n          code: 'TTG',\n          selected: false\n        }, {\n          name: 'PP',\n          code: 'PP',\n          selected: false\n        }, {\n          name: 'PNG',\n          code: 'PNG',\n          selected: false\n        }\n      ],\n      recordList: []\n    }\n  },\n  created() {\n    const recordList = localStorage.getItem('gameSearchRecordList') || '[]'\n    this.recordList = JSON.parse(recordList)\n  },\n  destroyed() {\n  },\n  methods: {\n    selectedItem(item, list) {\n      if (item.code === null) {\n        this[list].forEach(item => {\n          if (item.code !== null) item.selected = false\n        })\n      } else {\n        this[list][0].selected = false\n      }\n      item.selected = !item.selected\n    },\n    submit() {\n      let lineList = this.lineList.filter(item => item.selected).map(item => item.code)\n      let providerList = this.providerList.filter(item => item.selected).map(item => item.code)\n      if (this.lineList[0].selected) lineList = null\n      if (this.providerList[0].selected) providerList = null\n      this.$emit('update:showSearch', false)\n      this.$emit('filterGames', {\n        lineList,\n        providerList,\n        search: this.search\n      })\n      if (this.search && this.search !== this.recordList[0]) {\n        this.recordList.unshift(this.search)\n      }\n      localStorage.setItem('gameSearchRecordList', JSON.stringify(this.recordList.slice(0, 3)))\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .search {\n    z-index: 9;\n    background-color: $--background-color-primary;\n\n    &__header {\n      display: flex;\n      align-items: center;\n      height: $--header-height;\n      background: radial-gradient(circle at 50% 50%, #48141e, #141414);\n    }\n\n    &__input-wrapper {\n      flex-grow: 1;\n      height: rem(30);\n      padding: 0 rem(10) 0 rem(32);\n      margin-left: rem(10);\n      background: $--background-color-primary url(~@/assets/img/games/search_gray.png) no-repeat rem(12) center/rem(12);\n      border-radius: 25px;\n    }\n\n    &__input {\n      width: 100%;\n      height: 100%;\n      padding: 0;\n      font-size: 14px;\n      line-height: rem(30);\n      color: $--color-white;\n      background-color: transparent;\n      border: none;\n      outline: none;\n      caret-color: #cca352;\n    }\n\n    &__cancel {\n      padding: 0 rem(10);\n      font-size: rem(16);\n      font-weight: 700;\n      line-height: $--header-height;\n      color: $--color-primary;\n    }\n\n    &__content {\n      padding: rem(22) rem(15);\n    }\n\n    &__title {\n      margin-bottom: rem(8);\n      font-size: rem(12);\n      color: $--color-primary;\n    }\n\n    &__list,\n    &__record {\n      margin-bottom: rem(15);\n    }\n\n    &__item {\n      float: left;\n      height: rem(30);\n      padding: 0 rem(20);\n      margin: 0 rem(10) rem(10) 0;\n      font-size: rem(14);\n      line-height: rem(30);\n      color: $--color-white;\n      border-radius: rem(25);\n\n      @include border(#666, 25);\n\n      &.active {\n        background-color: $--color-primary;\n        border: none;\n\n        &::after {\n          display: none;\n        }\n      }\n    }\n\n    &__record-item {\n      position: relative;\n      height: rem(44);\n      padding-left: rem(26);\n      font-size: rem(14);\n      line-height: rem(44);\n      color: $--color-white;\n      background: url(~@/assets/img/common/icon_record.png) no-repeat left center/16px auto;\n    }\n\n    &__icon-record {\n      float: right;\n      width: rem(20);\n      height: 100%;\n      background: url(~@/assets/img/common/remove.png) no-repeat center;\n      background-size: 12px;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./searchGame.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./searchGame.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./searchGame.vue?vue&type=template&id=d99bab8e&scoped=true&\"\nimport script from \"./searchGame.vue?vue&type=script&lang=js&\"\nexport * from \"./searchGame.vue?vue&type=script&lang=js&\"\nimport style0 from \"./searchGame.vue?vue&type=style&index=0&id=d99bab8e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d99bab8e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"games page\">\n    <Header>\n      <template #right>\n        <button @click=\"showSearch=true\" class=\"games__search header__button\">\n          <i class=\"games__icon-search\"></i>搜游戏\n        </button>\n      </template>\n    </Header>\n    <div @scroll=\"scroll\" ref=\"container\" class=\"container\">\n      <banner field=\"game_new\"></banner>\n      <div ref=\"tab\" class=\"games__tab\">\n        <ul :class=\"{'fixed':tabFixed}\" @touchmove.prevent class=\"games__tab-list border-bottom\">\n          <li v-for=\"(item,index) in tabs\" :key=\"index\"\n              @click=\"toggleTab(index)\"\n              :class=\"{'active':activeTabIndex===index}\"\n              class=\"games__tab-item\">\n            {{item.name}}\n          </li>\n        </ul>\n      </div>\n      <ul class=\"games__list clearfix\">\n        <li v-for=\"(item,index) in pageData.data\" :key=\"index\" class=\"games__item\">\n          <a class=\"games__img-wrapper default-bg-small\" href=\"javascript:void (0);\">\n            <img class=\"games__img\" v-lazy=\"wmsImgPath+item.imgUrl\" :alt=\"item.cnName\">\n            <img v-if=\"!loginStatus&&item.canTry\" class=\"games__icon-try\"\n                 :src=\"$useWebpImg('@/assets/img/common/icon_try.png')\" alt=\"试玩\">\n            <i class=\"games__heart\"></i>\n            <p class=\"games__tag-wrapper\">\n              <span class=\"games__tag games__tag--provider\">{{item.provider}}</span>\n              <span v-if=\"item.isPromo\" class=\"games__tag games__tag--promo\">特惠</span>\n              <span v-if=\"item.line\" class=\"games__tag games__tag--line\">{{item.line}}线</span>\n              <span v-if=\"item.isPool\" class=\"games__tag games__tag--jackpot\">彩金</span>\n            </p>\n            <div v-if=\"getGameStatus(item.gameCode)\" class=\"maintain-mask\">\n              <div class=\"maintain-mask__inner\">\n                <img class=\"maintain-mask__icon\" :src=\"$useWebpImg('@/assets/img/common/icon_time.png')\" alt=\"\">\n                <p class=\"maintain-mask__text\">维护中</p>\n              </div>\n            </div>\n          </a>\n          <p class=\"games__name\">{{item.cnName}}</p>\n        </li>\n        <li v-if=\"!pageData.data||!pageData.data.length\" class=\"games__no-data-tips\">很抱歉,没有找到与之相关的游戏~</li>\n      </ul>\n    </div>\n    <searchGame v-if=\"showSearch\" @filterGames=\"filterGames\" :showSearch.sync=\"showSearch\"></searchGame>\n  </div>\n</template>\n\n<script>\nimport Header from '@/components/Header'\nimport Banner from '@/components/Banner.vue'\nimport searchGame from './searchGame.vue'\nimport { easeToTop } from '@/utils/util.js'\nimport { getGames, getPageData } from '@/utils/gameUtil.js'\nimport { mapGetters, mapState } from 'vuex'\n\nexport default {\n  name: 'games',\n  components: {\n    Header,\n    Banner,\n    searchGame\n  },\n  data() {\n    return {\n      tabs: [\n        {\n          name: '全部'\n        }, {\n          name: '热门',\n          params: { isHot: true }\n        }, {\n          name: '彩金池',\n          params: { isPool: true }\n        }, {\n          name: '最新游戏',\n          params: { isNew: true }\n        }, {\n          name: '我的收藏',\n          params: { isFavorite: true }\n        }\n      ],\n      activeTabIndex: 0,\n      tabFixed: false,\n      gameList: [],\n      pageParams: {\n        page: 1,\n        pageSize: 10\n      },\n      filterParams: {},\n      pageData: {},\n      isLoadAll: false,\n      showSearch: false\n    }\n  },\n  computed: {\n    ...mapState(['gameStatus']),\n    ...mapGetters(['loginStatus']),\n    wmsImgPath() {\n      const wmsServer = window.dynamicConfig.wmsServer\n      const cdnPath = window.dynamicConfig.cdnPath\n      const wmsPath = window.dynamicConfig.wmsPath\n      return `${wmsServer + cdnPath}/_wms/img/${wmsPath}/electronicgames/`\n    },\n    activeTab() {\n      return this.tabs[this.activeTabIndex]\n    }\n  },\n  activated() {\n    this.tabFixed = false\n    if (!this.gameList.length) this.$loading.open('loadGames')\n    this.getGames().then(() => this.$loading.hide('loadGames'))\n  },\n  deactivated() {\n    this.isLoadAll = false\n    this.activeTabIndex = 0\n    this.pageParams = {\n      page: 1,\n      pageSize: 10\n    }\n    this.$loading.hide('loadGames')\n  },\n  methods: {\n    getGames() {\n      const wmsServer = window.dynamicConfig.wmsServer\n      const wmsPath = window.dynamicConfig.wmsPath\n      const cdnPath = window.dynamicConfig.cdnPath\n      const url = `${wmsServer + cdnPath}/_wms/js/${wmsPath}/electronicgames/games.js`\n      return getGames(url).then(games => {\n        this.gameList = games\n        this.pageData = getPageData(this.gameList, this.pageParams)\n      })\n      // this.$axios.get(url).then(({ status, data }) => {\n      //   if (status === 200 && data) {\n      //     data = data.replace(/^[^[]*/, '').replace(/;$/, '')\n      //     data = JSON.parse(data) || []\n      //     this.gameList = data\n      //   }\n      // })\n    },\n    getPageData() {\n      this.pageData = getPageData(this.gameList, {\n        ...this.pageParams,\n        ...this.filterParams,\n        ...this.activeTab.params\n      })\n    },\n    filterGames(params) {\n      this.$refs.container.scrollIntoView()\n      this.pageParams = {\n        page: 1,\n        pageSize: 10\n      }\n      this.filterParams = params\n      this.getPageData()\n    },\n    getGameStatus(gameCode) {\n      return this.gameStatus[gameCode] && this.gameStatus[gameCode].flag === 0\n    },\n    toggleTab(index) {\n      const scrollTop = this.$refs.container.scrollTop\n      this.activeTabIndex = index\n      easeToTop(scrollTop, 0, 2, (val, isDone) => {\n        this.$refs.container.scrollTo(0, val)\n        if (isDone) {\n          this.pageParams.page = 1\n          this.filterParams = {}\n          this.getPageData()\n        }\n      })\n    },\n    scroll(e) {\n      const scrollTop = e.target.scrollTop\n      const triggerHeight = e.target.scrollHeight - (scrollTop + e.target.clientHeight)\n      if (this._scrollTop < scrollTop) { // 向下滚动\n        if (triggerHeight < 100) this.loadNextPage()\n      }\n      this.tabFixed = scrollTop > this.$refs.tab.offsetTop\n      this._scrollTop = scrollTop\n    },\n    loadNextPage() {\n      if (this.pageParams.page < this.pageData.maxPage) {\n        this.pageParams.page++\n        this.getPageData()\n      } else if (!this.isLoadAll) {\n        this.isLoadAll = true\n        this.$toast({\n          type: 'error',\n          message: '已经到底了~',\n          callback: () => {\n            this.isLoadAll = false\n          }\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .games {\n    &__search {\n      padding-left: rem(20);\n      color: $--color-primary;\n      background: no-repeat left center/auto rem(16);\n\n      @include background-image('~@/assets/img/games/search.png');\n    }\n\n    &__tab {\n      position: relative;\n      height: rem(48);\n      background-color: $--background-color-primary;\n    }\n\n    &__tab-list {\n      height: rem(48);\n      padding-top: rem(18);\n      overflow-x: auto;\n      overflow-y: hidden;\n      white-space: nowrap;\n\n      &.fixed {\n        position: fixed;\n        top: rem(49);\n        right: 0;\n        left: 0;\n        z-index: 9;\n        max-width: $--max-width;\n        margin: 0 auto;\n        background-color: $--background-color-primary;\n      }\n    }\n\n    &__tab-item {\n      display: inline-block;\n      height: rem(30);\n      margin: 0 rem(15);\n      font-size: rem(13);\n      line-height: rem(27);\n      color: $--color-white;\n      border-bottom: 3px solid transparent;\n\n      &.active {\n        color: $--color-primary;\n        border-bottom: 3px solid $--color-primary;\n      }\n    }\n\n    &__list {\n      position: relative;\n      padding: rem(15) rem(15) 0 rem(30);\n      overflow: hidden;\n      background-color: $--background-color-primary;\n    }\n\n    &__item {\n      float: left;\n      width: 50%;\n      margin-bottom: rem(24);\n      overflow: hidden;\n\n      &:nth-child(odd) {\n        margin-right: rem(15);\n        margin-left: rem(-15);\n      }\n    }\n\n    &__no-data-tips {\n      margin-bottom: rem(90);\n      margin-left: rem(-15);\n      color: #666;\n      text-align: center;\n    }\n\n    &__img-wrapper {\n      position: relative;\n      display: block;\n      height: rem(93);\n      overflow: hidden;\n      border-radius: 5px;\n\n      &::before {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: -1px;\n        left: 0;\n        content: \"\";\n        background: url(~@/assets/img/games/shadow.png) repeat-x;\n        background-size: 100% 100%;\n      }\n    }\n\n    &__img {\n      width: 100%;\n      height: 100%;\n      vertical-align: top;\n    }\n\n    &__icon-try {\n      position: absolute;\n      top: 0;\n      right: 0;\n      width: rem(26);\n      height: rem(26);\n    }\n\n    &__heart {\n      position: absolute;\n      top: rem(8);\n      right: rem(8);\n      width: rem(18);\n      height: rem(18);\n      background: url(~@/assets/img/games/heart.png) no-repeat center /100% auto;\n\n      &.active {\n        background: url(~@/assets/img/games/heart_red.png) no-repeat center /100% auto;\n      }\n    }\n\n    &__tag-wrapper {\n      position: absolute;\n      bottom: rem(8);\n      left: rem(8);\n      font-size: rem(12);\n      color: #fff;\n    }\n\n    &__tag {\n      display: inline-block;\n      height: rem(17);\n      padding: 0 rem(6);\n      margin-right: rem(2);\n      line-height: rem(17);\n      vertical-align: top;\n      border-radius: 3px;\n\n      &--provider {\n        background: #3bf linear-gradient(to right bottom, #3bf, #3386ff);\n      }\n\n      &--promo {\n        background: #3fceff linear-gradient(to right bottom, #3fceff, #3386ff);\n      }\n\n      &--line {\n        background: #45e5b0 linear-gradient(to right bottom, #45e5b0, #2c9ec9);\n      }\n\n      &--jackpot {\n        background: #f93 linear-gradient(to right bottom, #f93, #e54560);\n      }\n    }\n\n    &__name {\n      margin-top: rem(6);\n      overflow: hidden;\n      font-size: rem(18);\n      font-weight: 400;\n      color: $--color-white;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./games.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./games.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./games.vue?vue&type=template&id=0397e23c&scoped=true&\"\nimport script from \"./games.vue?vue&type=script&lang=js&\"\nexport * from \"./games.vue?vue&type=script&lang=js&\"\nimport style0 from \"./games.vue?vue&type=style&index=0&id=0397e23c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0397e23c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./searchGame.vue?vue&type=style&index=0&id=d99bab8e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./searchGame.vue?vue&type=style&index=0&id=d99bab8e&lang=scss&scoped=true&\""],"sourceRoot":""}