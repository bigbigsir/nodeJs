{"version":3,"sources":["webpack:///./src/views/dewFigure.vue?a465","webpack:///./src/views/dewFigure.vue?acb9","webpack:///./src/views/dewFigure.vue?5886","webpack:///./src/views/dewFigure.vue?090e","webpack:///./src/views/dewFigure.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","vid","countdown","banker","tie","player","directives","name","rawName","value","expression","_e","showShuffle","attrs","on","staticRenderFns","data","ctx","columns","rows","cellSizeWidth","cellSizeHeight","lineWidth","resultColor","showLoading","resultList","timer","timerText","lastGameCode","computed","origin","cellHeight","cellWidth","gridWidth","gridHeight","filter","item","result","length","mounted","canvas","document","getElementById","canvasWrapper","getContext","dpr","window","devicePixelRatio","Math","ceil","width","height","style","scale","formatResultList","socketResultList","methods","drawGrid","lineColor","x","beginPath","strokeStyle","moveTo","lineTo","stroke","y","drawCircle","color","circleFillColor","circleBorderColor","circleBorderWidth","circleRadii","arc","fillStyle","fill","drawLine","start","end","drawText","cxt","text","font","textAlign","textBaseline","fillText","drawDewFigure","_this","bigRoadData","formatBigRoadData","slice","clearRect","forEach","column","columnIndex","itemIndex","tieNumber","offset","closePath","formatItemData","obj","pair","banker_val","player_val","columnLastItem","resultFlag","_this2","list","arguments","undefined","bigRoadList","isAddNewColumn","push","countdownFunc","_this3","clearInterval","setInterval","newShoes","newRound","seconds","closeRound","concat","console","log","key","roundRes","hasOwnProperty","sockets","e","JSON","parse","gmcode","component"],"mappings":"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","file":"cdn/A02FM/js/chunk-d8449532.bf06b644.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dewFigure.vue?vue&type=style&index=0&id=0cd04e1a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dewFigure.vue?vue&type=style&index=0&id=0cd04e1a&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"dew-figure-container\"},[_c('div',{staticClass:\"dew-figure-header clearfix\"},[_c('span',{staticClass:\"game-table\"},[_vm._v(_vm._s(_vm.vid)+\"桌\")]),_c('span',{staticClass:\"timer-text\"},[_c('i',{staticClass:\"icon-time\"}),_c('span',{staticClass:\"monospaced-font\"},[_vm._v(\" 00\"),_c('span',[_vm._v(\":\")]),_vm._v(_vm._s(_vm.countdown>9?_vm.countdown:(\"0\" + _vm.countdown))+\" \")])])]),_c('div',{staticClass:\"scoreboard clearfix\"},[_c('span',{staticClass:\"scoreboard-item\"},[_c('span',[_vm._v(\"庄\")]),_c('span',[_vm._v(_vm._s(_vm.banker))])]),_c('span',{staticClass:\"scoreboard-item\"},[_c('span',[_vm._v(\"和\")]),_c('span',[_vm._v(_vm._s(_vm.tie))])]),_c('span',{staticClass:\"scoreboard-item\"},[_c('span',[_vm._v(\"闲\")]),_c('span',[_vm._v(_vm._s(_vm.player))])])]),_c('div',{staticClass:\"canvas-container\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showShuffle),expression:\"showShuffle\"}],staticClass:\"shuffle-wrapper\"},[_c('span',{staticClass:\"shuffle-text\"},[_vm._v(\"洗牌中\")])]),(_vm.showLoading)?_c('div',{staticClass:\"loading-wrapper\"},[_c('span',{staticClass:\"loading-text\"},[_vm._v(\"loading...\")])]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showShuffle),expression:\"!showShuffle\"}],staticClass:\"canvas-wrapper\",attrs:{\"id\":\"canvasWrapper1\"}},[_c('canvas',{attrs:{\"id\":\"canvas1\"}})])]),_c('div',{staticClass:\"button-wrapper\"},[_c('button',{staticClass:\"submit-button\",on:{\"click\":function (){ return null; }}},[_c('span',{staticClass:\"button-text\"},[_vm._v(\"快速入座\")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import \"core-js/modules/es.array.concat\";\nimport \"core-js/modules/es.array.fill\";\nimport \"core-js/modules/es.array.filter\";\nimport \"core-js/modules/es.array.for-each\";\nimport \"core-js/modules/es.array.slice\";\nimport \"core-js/modules/web.dom-collections.for-each\";\nimport _toConsumableArray from \"/Users/mojie/Desktop/codes/a02_mobile/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/mojie/Desktop/codes/a02_mobile/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState } from 'vuex';\nexport default {\n  name: 'dewFigure',\n  data: function data() {\n    return {\n      ctx: null,\n      vid: 'B001',\n      columns: 16,\n      rows: 6,\n      cellSizeWidth: 23,\n      cellSizeHeight: 23,\n      lineWidth: 1,\n      resultColor: {\n        banker: '#d55263',\n        player: '#6e8df7',\n        tie: '#4ea950'\n      },\n      showLoading: true,\n      showShuffle: true,\n      resultList: [],\n      timer: null,\n      countdown: 0,\n      timerText: null,\n      lastGameCode: null\n    };\n  },\n  computed: _objectSpread({}, mapState(['socketResultList']), {\n    origin: function origin() {\n      return this.lineWidth / 2;\n    },\n    cellHeight: function cellHeight() {\n      return this.cellSizeHeight + this.lineWidth;\n    },\n    cellWidth: function cellWidth() {\n      return this.cellSizeWidth + this.lineWidth;\n    },\n    gridWidth: function gridWidth() {\n      return this.lineWidth + this.columns * this.cellWidth;\n    },\n    gridHeight: function gridHeight() {\n      return this.lineWidth + this.rows * this.cellHeight;\n    },\n    banker: function banker() {\n      return this.resultList.filter(function (item) {\n        return item.result === 'banker';\n      }).length;\n    },\n    player: function player() {\n      return this.resultList.filter(function (item) {\n        return item.result === 'player';\n      }).length;\n    },\n    tie: function tie() {\n      return this.resultList.filter(function (item) {\n        return item.result === 'tie';\n      }).length;\n    }\n  }),\n  mounted: function mounted() {\n    var canvas = document.getElementById('canvas1');\n    var canvasWrapper = document.getElementById('canvasWrapper1');\n    var ctx = canvas.getContext('2d');\n    var dpr = window.devicePixelRatio;\n\n    if (dpr) {\n      dpr = Math.ceil(dpr);\n      dpr = dpr > 2 ? dpr : 4;\n      canvas.width = this.gridWidth * dpr;\n      canvas.height = this.gridHeight * dpr;\n      canvas.style.width = this.gridWidth + 'px';\n      canvas.style.height = this.gridHeight + 'px';\n      canvasWrapper.style.width = this.gridWidth + 'px';\n      canvasWrapper.style.height = this.gridHeight + 'px';\n      ctx.scale(dpr, dpr);\n    }\n\n    this.ctx = ctx;\n    this.formatResultList(this.socketResultList);\n  },\n  methods: {\n    // 画网格线\n    drawGrid: function drawGrid(ctx) {\n      var lineColor = '#202020'; // 画竖线（列）\n\n      for (var x = this.origin; x <= this.gridWidth; x += this.cellWidth) {\n        ctx.beginPath();\n        ctx.strokeStyle = lineColor;\n        ctx.lineWidth = this.lineWidth;\n        ctx.moveTo(x, 0);\n        ctx.lineTo(x, this.gridHeight);\n        ctx.stroke();\n      } // 画横线 （行）\n\n\n      for (var y = this.origin; y <= this.gridHeight; y += this.cellHeight) {\n        ctx.beginPath();\n        ctx.strokeStyle = lineColor;\n        ctx.lineWidth = this.lineWidth;\n        ctx.moveTo(0, y);\n        ctx.lineTo(this.gridWidth, y);\n        ctx.stroke();\n      }\n    },\n    // 画圆\n    drawCircle: function drawCircle(ctx, x, y, color) {\n      var circleFillColor = '#141414';\n      var circleBorderColor = color;\n      var circleBorderWidth = 3;\n      var circleRadii = 8;\n      ctx.beginPath();\n      ctx.arc(x, y, circleRadii, 0, 360, false);\n      ctx.fillStyle = circleFillColor;\n      ctx.strokeStyle = circleBorderColor;\n      ctx.lineWidth = circleBorderWidth;\n      ctx.fill();\n      ctx.stroke();\n    },\n    // 画斜线\n    drawLine: function drawLine(ctx, start, end, width, color) {\n      ctx.beginPath();\n      ctx.moveTo(start[0], start[1]);\n      ctx.lineTo(end[0], end[1]);\n      ctx.lineWidth = width;\n      ctx.strokeStyle = color;\n      ctx.stroke();\n    },\n    // 画文字\n    drawText: function drawText(cxt, x, y, text, font) {\n      cxt.beginPath();\n      cxt.font = font;\n      cxt.fillStyle = '#fff';\n      cxt.textAlign = 'center';\n      cxt.textBaseline = 'middle';\n      cxt.fillText(text, x, y);\n      cxt.stroke();\n    },\n    // 绘制露珠图\n    drawDewFigure: function drawDewFigure(ctx) {\n      var _this = this;\n\n      var bigRoadData = this.formatBigRoadData(this.resultList).slice(-(this.columns - 1));\n      ctx.clearRect(0, 0, this.gridWidth, this.gridHeight);\n      this.drawGrid(ctx);\n      bigRoadData.forEach(function (column, columnIndex) {\n        column.forEach(function (item, itemIndex) {\n          var x = (columnIndex + 1) * _this.cellWidth - _this.cellSizeWidth / 2;\n          var y = (itemIndex + 1) * _this.cellHeight - _this.cellSizeHeight / 2;\n\n          _this.drawCircle(ctx, x, y, item.color);\n\n          if (item.tieNumber) {\n            var offset = 3;\n            var start = columnIndex * _this.cellWidth + _this.origin;\n            var end = itemIndex * _this.cellHeight + _this.origin;\n\n            _this.drawLine(ctx, [start + offset, end + _this.cellHeight - offset], [start + _this.cellWidth - offset, end + offset], 2, _this.resultColor.tie);\n\n            if (item.tieNumber > 1 && item.tieNumber < 10) {\n              _this.drawText(ctx, Math.ceil(x), Math.ceil(y), '2', '16px Calibri');\n            } else if (item.tieNumber > 10) {\n              _this.drawText(ctx, x, Math.ceil(y), '18', '12px Calibri');\n            }\n          }\n        });\n      });\n      ctx.closePath();\n    },\n    // 格式化当前桌台历史数据\n    formatItemData: function formatItemData(item) {\n      var obj = {\n        pair: item.pair // 对子 0：无、1：庄对、2：闲对、3：庄闲对\n\n      };\n\n      if (item.banker_val > item.player_val) {\n        obj.result = 'banker'; // 庄赢\n      } else if (item.banker_val < item.player_val) {\n        obj.result = 'player'; // 闲赢\n      } else {\n        obj.result = 'tie'; // 和\n      }\n\n      return obj;\n    },\n    // 格式化大路露珠图数据\n    formatBigRoadData: function formatBigRoadData() {\n      var _this2 = this;\n\n      var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var column; // 当前列\n\n      var columnLastItem; // 当前列最后一项\n\n      var resultFlag; // 结果标志\n\n      var tieNumber = 0; // 和局次数\n\n      var bigRoadList = []; // 大路图数据\n\n      var isAddNewColumn = false; // 是否新增一行\n\n      list.forEach(function (item) {\n        column = bigRoadList[bigRoadList.length - 1];\n        columnLastItem = column && column[column.length - 1];\n        isAddNewColumn = item.result !== 'tie' && (resultFlag !== item.result || column && column.length >= _this2.rows);\n\n        if (isAddNewColumn) {\n          bigRoadList.push([]);\n        }\n\n        column = bigRoadList[bigRoadList.length - 1];\n\n        if (item.result === 'tie') {\n          if (columnLastItem) {\n            columnLastItem.tieNumber += 1;\n            tieNumber = 0;\n          } else {\n            tieNumber += 1;\n          }\n\n          resultFlag = columnLastItem && columnLastItem.result;\n        } else {\n          column.push(_objectSpread({}, item, {\n            tieNumber: tieNumber,\n            color: _this2.resultColor[item.result]\n          }));\n          tieNumber = 0;\n          resultFlag = item.result;\n        }\n      });\n      return bigRoadList;\n    },\n    // 倒计时\n    countdownFunc: function countdownFunc(text) {\n      var _this3 = this;\n\n      this.timerText = null;\n      clearInterval(this.timer);\n\n      if (this.countdown === 0) {\n        this.timerText = text;\n      }\n\n      this.timer = setInterval(function () {\n        if (_this3.countdown > 0) {\n          _this3.countdown--;\n        } else {\n          _this3.timerText = text;\n          clearInterval(_this3.timer);\n        }\n      }, 1000);\n    },\n    // 洗牌中\n    newShoes: function newShoes() {\n      this.countdown = 0;\n      this.countdownFunc('洗牌中');\n      this.showShuffle = true;\n      this.resultList = [];\n      this.drawDewFigure(this.ctx);\n    },\n    // 开始一局\n    newRound: function newRound(seconds) {\n      this.showShuffle = false;\n      this.countdown = seconds;\n      this.countdownFunc('结算中');\n    },\n    // 结束一局\n    closeRound: function closeRound(obj) {\n      this.countdown = 0;\n      this.countdownFunc('发牌中');\n      this.resultList = [].concat(_toConsumableArray(this.resultList), [this.formatItemData(obj)]);\n      this.drawDewFigure(this.ctx);\n    },\n    // 连接后推送的历史数据\n    formatResultList: function formatResultList(obj) {\n      obj = obj[this.vid] || {};\n      console.log(obj);\n      var roundRes = obj.roundRes || {};\n      var key;\n      var item;\n      var list = [];\n\n      for (key in roundRes) {\n        if (roundRes.hasOwnProperty(key)) {\n          item = this.formatItemData(roundRes[key]);\n          list.push(item);\n        }\n      }\n\n      if (!list.length) {\n        this.newShoes();\n      } else {\n        this.resultList = list;\n        this.newRound(obj.seconds);\n        this.drawDewFigure(this.ctx);\n      }\n\n      this.showLoading = false;\n    }\n  },\n  sockets: {\n    'connect_error': function connect_error(e) {\n      console.log('connect_error:\\n', e);\n    },\n    'connect_timeout': function connect_timeout(e) {\n      console.log('connect_timeout:\\n');\n      console.log(e);\n    },\n    'reconnect_error': function reconnect_error(e) {\n      console.log('reconnect_error\\n');\n      console.log(e);\n    },\n    'reconnect_failed': function reconnect_failed(e) {\n      console.log('reconnect_failed\\n');\n      console.log(e);\n    },\n    'result list': function resultList(obj) {\n      this.formatResultList(JSON.parse(obj));\n    },\n    'new shoes': function newShoes(obj) {\n      obj = JSON.parse(obj);\n\n      if (obj.vid === this.vid) {\n        this.newShoes();\n        console.log('new shoes:\\n', obj);\n      }\n    },\n    'new round': function newRound(obj) {\n      obj = JSON.parse(obj);\n\n      if (obj.vid === this.vid) {\n        this.newRound(obj.seconds);\n        console.log('new round:\\n', obj);\n      }\n    },\n    'close round': function closeRound(obj) {\n      obj = JSON.parse(obj);\n\n      if (obj.vid === this.vid && this.lastGameCode !== obj.gmcode) {\n        this.closeRound(obj);\n        console.log('close round:\\n', obj);\n      }\n    }\n  }\n};","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dewFigure.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dewFigure.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dewFigure.vue?vue&type=template&id=0cd04e1a&scoped=true&\"\nimport script from \"./dewFigure.vue?vue&type=script&lang=js&\"\nexport * from \"./dewFigure.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dewFigure.vue?vue&type=style&index=0&id=0cd04e1a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0cd04e1a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}