(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e50ef19"],{"2fd2":function(e,a,t){"use strict";var s=t("8ad0"),i=t.n(s);i.a},"4c64":function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"games page"},[t("Header",{scopedSlots:e._u([{key:"right",fn:function(){return[t("button",{staticClass:"games__search header__button",on:{click:function(a){e.showSearch=!0}}},[t("i",{staticClass:"games__icon-search"}),e._v("搜游戏 ")])]},proxy:!0}])}),t("div",{ref:"container",staticClass:"container",on:{scroll:e.scroll}},[t("banner",{attrs:{field:"game_new"}}),t("div",{ref:"tab",staticClass:"games__tab"},[t("ul",{staticClass:"games__tab-list border-bottom",class:{fixed:e.tabFixed},on:{touchmove:function(e){e.preventDefault()}}},e._l(e.tabs,(function(a,s){return t("li",{key:s,staticClass:"games__tab-item",class:{active:e.activeTabIndex===s},on:{click:function(a){return e.toggleTab(s)}}},[e._v(" "+e._s(a.name)+" ")])})),0)]),t("ul",{staticClass:"games__list clearfix"},[e._l(e.pageData.data,(function(a,s){return t("li",{key:s,staticClass:"games__item"},[t("a",{staticClass:"games__img-wrapper default-bg-small",attrs:{href:"javascript:void (0);"}},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.wmsImgPath+a.imgUrl,expression:"wmsImgPath+item.imgUrl"}],staticClass:"games__img",attrs:{alt:a.cnName}}),!e.loginStatus&&a.canTry?t("img",{staticClass:"games__icon-try",attrs:{src:e.$useWebpImg("@/assets/img/common/icon_try.png"),alt:"试玩"}}):e._e(),t("i",{staticClass:"games__heart"}),t("p",{staticClass:"games__tag-wrapper"},[t("span",{staticClass:"games__tag games__tag--provider"},[e._v(e._s(a.provider))]),a.isPromo?t("span",{staticClass:"games__tag games__tag--promo"},[e._v("特惠")]):e._e(),a.line?t("span",{staticClass:"games__tag games__tag--line"},[e._v(e._s(a.line)+"线")]):e._e(),a.isPool?t("span",{staticClass:"games__tag games__tag--jackpot"},[e._v("彩金")]):e._e()]),e.getGameStatus(a.gameCode)?t("div",{staticClass:"maintain-mask"},[t("div",{staticClass:"maintain-mask__inner"},[t("img",{staticClass:"maintain-mask__icon",attrs:{src:e.$useWebpImg("@/assets/img/common/icon_time.png"),alt:""}}),t("p",{staticClass:"maintain-mask__text"},[e._v("维护中")])])]):e._e()]),t("p",{staticClass:"games__name"},[e._v(e._s(a.cnName))])])})),e.pageData.data&&e.pageData.data.length?e._e():t("li",{staticClass:"games__no-data-tips"},[e._v("很抱歉,没有找到与之相关的游戏~")])],2)],1),e.showSearch?t("searchGame",{attrs:{showSearch:e.showSearch},on:{filterGames:e.filterGames,"update:showSearch":function(a){e.showSearch=a},"update:show-search":function(a){e.showSearch=a}}}):e._e()],1)},i=[],c=(t("99af"),t("5530")),n=t("0418"),r=t("84af"),o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"search page"},[t("div",{staticClass:"search__header"},[t("div",{staticClass:"search__input-wrapper"},[t("label",[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.search,expression:"search",modifiers:{trim:!0}}],staticClass:"search__input",attrs:{type:"text",placeholder:"请输入关键字..."},domProps:{value:e.search},on:{input:function(a){a.target.composing||(e.search=a.target.value.trim())},blur:function(a){return e.$forceUpdate()}}})])]),t("a",{staticClass:"search__cancel",attrs:{href:"javascript:void (0);"},on:{click:function(a){return e.$emit("update:showSearch",!1)}}},[e._v("取消")])]),t("div",{staticClass:"search__content"},[t("h6",{staticClass:"search__title"},[e._v("游戏平台")]),t("ul",{staticClass:"search__list clearfix"},e._l(e.providerList,(function(a,s){return t("li",{key:s,staticClass:"search__item",class:{active:a.selected},on:{click:function(t){return e.selectedItem(a,"providerList")}}},[e._v(" "+e._s(a.name)+" ")])})),0),t("h6",{staticClass:"search__title"},[e._v("赔付线")]),t("ul",{staticClass:"search__list clearfix"},e._l(e.lineList,(function(a,s){return t("li",{key:s,staticClass:"search__item",class:{active:a.selected},on:{click:function(t){return e.selectedItem(a,"lineList")}}},[e._v(" "+e._s(a.name)+" ")])})),0),t("ul",{staticClass:"search__record"},e._l(e.recordList,(function(a,s){return t("li",{key:s,staticClass:"search__record-item border-bottom",on:{click:function(t){e.search=a}}},[t("span",[e._v(e._s(a))]),t("i",{staticClass:"search__icon-record",on:{click:function(a){return a.stopPropagation(),e.recordList.splice(s,1)}}})])})),0),t("button",{staticClass:"search__button button",on:{click:e.submit}},[e._v("确定")])])])},l=[],m=(t("4de4"),t("4160"),t("d81d"),t("fb6a"),t("ac1f"),t("841c"),t("159b"),{name:"searchGame",props:{showSearch:Boolean},data:function(){return{search:null,lineList:[{name:"全部",code:null,selected:!1},{name:"1-4线",code:"1-4",selected:!1},{name:"5-9线",code:"5-9",selected:!1},{name:"15-25线",code:"15-25",selected:!1},{name:"30-50线",code:"30-50",selected:!1},{name:"51-243线",code:"51-243",selected:!1}],providerList:[{name:"全部",code:null,selected:!1},{name:"PT",code:"PT",selected:!1},{name:"MG",code:"MG",selected:!1},{name:"AG",code:"AG",selected:!1},{name:"TTG",code:"TTG",selected:!1},{name:"PP",code:"PP",selected:!1},{name:"PNG",code:"PNG",selected:!1}],recordList:[]}},created:function(){var e=localStorage.getItem("gameSearchRecordList")||"[]";this.recordList=JSON.parse(e)},destroyed:function(){},methods:{selectedItem:function(e,a){null===e.code?this[a].forEach((function(e){null!==e.code&&(e.selected=!1)})):this[a][0].selected=!1,e.selected=!e.selected},submit:function(){var e=this.lineList.filter((function(e){return e.selected})).map((function(e){return e.code})),a=this.providerList.filter((function(e){return e.selected})).map((function(e){return e.code}));this.lineList[0].selected&&(e=null),this.providerList[0].selected&&(a=null),this.$emit("update:showSearch",!1),this.$emit("filterGames",{lineList:e,providerList:a,search:this.search}),this.search&&this.search!==this.recordList[0]&&this.recordList.unshift(this.search),localStorage.setItem("gameSearchRecordList",JSON.stringify(this.recordList.slice(0,3)))}}}),d=m,h=(t("5448"),t("2877")),g=Object(h["a"])(d,o,l,!1,null,"d99bab8e",null),u=g.exports,_=t("ca00"),p=t("06de"),f=t("2f62"),v={name:"games",components:{Header:n["a"],Banner:r["a"],searchGame:u},data:function(){return{tabs:[{name:"全部"},{name:"热门",params:{isHot:!0}},{name:"彩金池",params:{isPool:!0}},{name:"最新游戏",params:{isNew:!0}},{name:"我的收藏",params:{isFavorite:!0}}],activeTabIndex:0,tabFixed:!1,gameList:[],pageParams:{page:1,pageSize:10},filterParams:{},pageData:{},isLoadAll:!1,showSearch:!1}},computed:Object(c["a"])({},Object(f["e"])(["gameStatus"]),{},Object(f["c"])(["loginStatus"]),{wmsImgPath:function(){var e=window.dynamicConfig.wmsServer,a=window.dynamicConfig.cdnPath,t=window.dynamicConfig.wmsPath;return"".concat(e+a,"/_wms/img/").concat(t,"/electronicgames/")},activeTab:function(){return this.tabs[this.activeTabIndex]}}),activated:function(){var e=this;this.tabFixed=!1,this.gameList.length||this.$loading.open("loadGames"),this.getGames().then((function(){return e.$loading.hide("loadGames")}))},deactivated:function(){this.isLoadAll=!1,this.activeTabIndex=0,this.pageParams={page:1,pageSize:10},this.$loading.hide("loadGames")},methods:{getGames:function(){var e=this,a=window.dynamicConfig.wmsServer,t=window.dynamicConfig.wmsPath,s=window.dynamicConfig.cdnPath,i="".concat(a+s,"/_wms/js/").concat(t,"/electronicgames/games.js");return Object(p["a"])(i).then((function(a){e.gameList=a,e.pageData=Object(p["b"])(e.gameList,e.pageParams)}))},getPageData:function(){this.pageData=Object(p["b"])(this.gameList,Object(c["a"])({},this.pageParams,{},this.filterParams,{},this.activeTab.params))},filterGames:function(e){this.$refs.container.scrollIntoView(),this.pageParams={page:1,pageSize:10},this.filterParams=e,this.getPageData()},getGameStatus:function(e){return this.gameStatus[e]&&0===this.gameStatus[e].flag},toggleTab:function(e){var a=this,t=this.$refs.container.scrollTop;this.activeTabIndex=e,Object(_["a"])(t,0,2,(function(e,t){a.$refs.container.scrollTo(0,e),t&&(a.pageParams.page=1,a.filterParams={},a.getPageData())}))},scroll:function(e){var a=e.target.scrollTop,t=e.target.scrollHeight-(a+e.target.clientHeight);this._scrollTop<a&&t<100&&this.loadNextPage(),this.tabFixed=a>this.$refs.tab.offsetTop,this._scrollTop=a},loadNextPage:function(){var e=this;this.pageParams.page<this.pageData.maxPage?(this.pageParams.page++,this.getPageData()):this.isLoadAll||(this.isLoadAll=!0,this.$toast({type:"error",message:"已经到底了~",callback:function(){e.isLoadAll=!1}}))}}},b=v,w=(t("2fd2"),Object(h["a"])(b,s,i,!1,null,"0397e23c",null));a["default"]=w.exports},"4c6c":function(e,a,t){},5448:function(e,a,t){"use strict";var s=t("4c6c"),i=t.n(s);i.a},"8ad0":function(e,a,t){}}]);
//# sourceMappingURL=chunk-4e50ef19.e6d15ab7.js.map