{"version":3,"sources":["webpack:///./src/components/SeedCode.vue?ac3f","webpack:///./src/views/sign/sign_in.vue?0e68","webpack:///./src/utils/validate.js","webpack:///./src/views/sign/sign_in.vue?ceb7","webpack:///src/views/sign/sign_in.vue","webpack:///./src/views/sign/sign_in.vue?398c","webpack:///./src/views/sign/sign_in.vue","webpack:///./src/components/SeedCode.vue?e5e2","webpack:///src/components/SeedCode.vue","webpack:///./src/components/SeedCode.vue?0842","webpack:///./src/components/SeedCode.vue"],"names":["loginName","phoneNum","password","parentId","validateLoginName","str","test","validatePhoneNum","validatePassword","validateParentId","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","$router","replace","_v","preventDefault","attrs","directives","name","rawName","value","loginForm","expression","modifiers","domProps","target","composing","$set","trim","$forceUpdate","sendCodeParams","enableSendBtn","sendCodeBefore","sendCallBack","_m","replaceNonNum","image","getCaptcha","_e","class","validateForm","submit","staticRenderFns","components","beforeRouteEnter","next","vm","formPath","from","path","fullPath","data","verifyStr","messageId","captcha","captchaId","isNeedCaptcha","use","mobileNo","computed","created","getIsNeedCaptcha","toggleSideBar","methods","_isNeedLoading","$api","params","then","head","errCode","e","$encrypted","login","message","callback","component","enable","sending","_s","text","sendCode","props","type","Boolean","default","Object","duration","isFirstSend","$emit","timeout","clearInterval","timer"],"mappings":"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","file":"cdn/A02FM/js/chunk-76de4be8.684d33ad.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SeedCode.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SeedCode.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sign_in.vue?vue&type=style&index=0&id=45121770&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sign_in.vue?vue&type=style&index=0&id=45121770&lang=scss&scoped=true&\"","const loginName = /^[cC]\\w{4,10}/\nconst phoneNum = /^1\\d{10,11}$/\nconst password = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/\nconst parentId = /^\\d{10}/\n\nexport function validateLoginName(str) {\n  return loginName.test(str)\n}\n\nexport function validatePhoneNum(str) {\n  return phoneNum.test(str)\n}\n\nexport function validatePassword(str) {\n  return password.test(str)\n}\n\nexport function validateParentId(str) {\n  return parentId.test(str)\n}\n\nexport default {\n  validateLoginName,\n  validatePhoneNum,\n  validatePassword,\n  validateParentId\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sign sign-in\"},[_c('div',{staticClass:\"sign__header clearfix\"},[_c('i',{staticClass:\"sign__back\",on:{\"click\":function($event){return _vm.$router.replace('/')}}}),_c('button',{staticClass:\"sign__button\",on:{\"click\":function($event){return _vm.$router.replace('/register')}}},[_vm._v(\"注册\")])]),_c('h1',{staticClass:\"sign__title\"},[_vm._v(\"登录\")]),_c('form',{staticClass:\"form\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"form__item\"},[_c('label',{staticClass:\"form__label\",attrs:{\"for\":\"sign_in_acc\"}},[_vm._v(\" 手机号／用户名 \")]),_c('div',{staticClass:\"form__content form__content--between\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.loginForm.loginName),expression:\"loginForm.loginName\",modifiers:{\"trim\":true}}],staticClass:\"form__input form__input--limit-width sign-in-form__input \",attrs:{\"id\":\"sign_in_acc\",\"maxlength\":\"11\",\"type\":\"text\"},domProps:{\"value\":(_vm.loginForm.loginName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.loginForm, \"loginName\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('SeedCode',{staticClass:\"form__button--suffix\",attrs:{\"params\":_vm.sendCodeParams,\"enable\":_vm.enableSendBtn},on:{\"sendCodeBefore\":_vm.sendCodeBefore,\"sendCallBack\":_vm.sendCallBack}})],1)]),_c('div',{staticClass:\"form__item\"},[_vm._m(0),_c('div',{staticClass:\"form__content\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.loginForm.verifyStr),expression:\"loginForm.verifyStr\",modifiers:{\"trim\":true}}],staticClass:\"form__input sign-in-form__input\",attrs:{\"id\":\"sign_in_pwd\",\"maxlength\":\"16\",\"type\":\"password\"},domProps:{\"value\":(_vm.loginForm.verifyStr)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.loginForm, \"verifyStr\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),(_vm.isNeedCaptcha)?_c('div',{staticClass:\"form__item\"},[_c('label',{staticClass:\"form__label\",attrs:{\"for\":\"sign_in_code\"}},[_vm._v(\"图形验证码\")]),_c('div',{staticClass:\"form__content form__content--between\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.loginForm.captcha),expression:\"loginForm.captcha\",modifiers:{\"trim\":true}}],staticClass:\"form__input form__input--limit-width sign-in-form__input\",attrs:{\"id\":\"sign_in_code\",\"maxlength\":\"4\",\"type\":\"text\"},domProps:{\"value\":(_vm.loginForm.captcha)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.loginForm, \"captcha\", $event.target.value.trim())},_vm.replaceNonNum],\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('img',{staticClass:\"form__captcha\",attrs:{\"src\":_vm.image,\"alt\":\"\"},on:{\"click\":_vm.getCaptcha}})])]):_vm._e(),_c('button',{staticClass:\"form__button form__button--full\",class:{'disabled-opacity':!_vm.validateForm},on:{\"click\":_vm.submit}},[_vm._v(\"登录 \")])]),_vm._m(1),_vm._m(2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"form__label\",attrs:{\"for\":\"sign_in_pwd\"}},[_vm._v(\" 验证码／密码 \"),_c('a',{staticClass:\"form__link-service\",attrs:{\"href\":\"javascript:void (0);\"}},[_vm._v(\"收不到验证码？\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"sign__link-forget-password\"},[_c('a',{staticClass:\"link\",attrs:{\"href\":\"javascript:void (0)\"}},[_vm._v(\"忘记账号／密码？\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"sign__notes\"},[_vm._v(\" 凯发娱乐支持USDT \"),_c('span',{staticClass:\"sign__notes-strong\"},[_vm._v(\"安全 • 方便\")]),_vm._v(\" 匿名买卖、不受银行监管 \")])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"sign sign-in\">\n    <div class=\"sign__header clearfix\">\n      <i @click=\"$router.replace('/')\" class=\"sign__back\"></i>\n      <button @click=\"$router.replace('/register')\" class=\"sign__button\">注册</button>\n    </div>\n    <h1 class=\"sign__title\">登录</h1>\n    <form @submit.prevent class=\"form\">\n      <div class=\"form__item\">\n        <label class=\"form__label\" for=\"sign_in_acc\">\n          手机号／用户名\n        </label>\n        <div class=\"form__content form__content--between\">\n          <input v-model.trim=\"loginForm.loginName\" class=\"form__input form__input--limit-width sign-in-form__input \"\n                 id=\"sign_in_acc\"\n                 maxlength=\"11\" type=\"text\">\n          <SeedCode @sendCodeBefore=\"sendCodeBefore\"\n                    @sendCallBack=\"sendCallBack\"\n                    :params=\"sendCodeParams\"\n                    :enable=\"enableSendBtn\"\n                    class=\"form__button--suffix\">\n          </SeedCode>\n        </div>\n      </div>\n      <div class=\"form__item\">\n        <label class=\"form__label\" for=\"sign_in_pwd\">\n          验证码／密码\n          <a class=\"form__link-service\" href=\"javascript:void (0);\">收不到验证码？</a>\n        </label>\n        <div class=\"form__content\">\n          <input v-model.trim=\"loginForm.verifyStr\" class=\"form__input sign-in-form__input\"\n                 id=\"sign_in_pwd\" maxlength=\"16\"\n                 type=\"password\">\n        </div>\n      </div>\n      <div v-if=\"isNeedCaptcha\" class=\"form__item\">\n        <label class=\"form__label\" for=\"sign_in_code\">图形验证码</label>\n        <div class=\"form__content form__content--between\">\n          <input v-model.trim=\"loginForm.captcha\"\n                 @input=\"replaceNonNum\"\n                 class=\"form__input form__input--limit-width sign-in-form__input\" id=\"sign_in_code\"\n                 maxlength=\"4\" type=\"text\">\n          <img @click=\"getCaptcha\" class=\"form__captcha\" :src=\"image\" alt=\"\">\n        </div>\n      </div>\n      <button @click=\"submit\" :class=\"{'disabled-opacity':!validateForm}\" class=\"form__button form__button--full\">登录\n      </button>\n    </form>\n    <p class=\"sign__link-forget-password\">\n      <a href=\"javascript:void (0)\" class=\"link\">忘记账号／密码？</a>\n    </p>\n    <p class=\"sign__notes\">\n      凯发娱乐支持USDT <span class=\"sign__notes-strong\">安全 • 方便</span> 匿名买卖、不受银行监管\n    </p>\n  </div>\n</template>\n\n<script>\nimport { mapMutations, mapActions } from 'vuex'\nimport SeedCode from '@/components/SeedCode.vue'\nimport {\n  validateLoginName,\n  validatePhoneNum,\n  validatePassword\n} from '@/utils/validate.js'\n\nexport default {\n  name: 'sign_in',\n  components: { SeedCode },\n  beforeRouteEnter(to, from, next) {\n    next(vm => {\n      vm.formPath = from.path === '/register' ? '/' : from.fullPath\n    })\n  },\n  data() {\n    return {\n      formPath: '/',\n      loginForm: {\n        loginName: null,\n        verifyStr: null,\n        messageId: null,\n        captcha: null,\n        captchaId: null\n      },\n      image: null,\n      isNeedCaptcha: false,\n      sendCodeParams: {\n        use: 2,\n        mobileNo: null\n      }\n    }\n  },\n  computed: {\n    enableSendBtn() {\n      return validatePhoneNum(this.loginForm.loginName)\n    },\n    validateForm() {\n      if (this.enableSendBtn) {\n        return this.loginForm.messageId &&\n            this.loginForm.verifyStr &&\n            this.loginForm.verifyStr.length === 6\n      } else {\n        return validateLoginName(this.loginForm.loginName) &&\n            validatePassword(this.loginForm.verifyStr)\n      }\n    }\n  },\n  created() {\n    this.getIsNeedCaptcha()\n    this.toggleSideBar(false)\n  },\n  methods: {\n    ...mapMutations([\n      'toggleSideBar',\n      'setCustomerInfo'\n    ]),\n    ...mapActions([\n      'login',\n      'getCustomerInfo',\n      'getBalanceInfo'\n    ]),\n    getIsNeedCaptcha() {\n      const params = {\n        _isNeedLoading: false\n      }\n      this.$api.getIsNeedCaptcha(params).then(({ head, body }) => {\n        if (head.errCode === '0000') {\n          this.isNeedCaptcha = !!body.needCaptcha\n          if (this.isNeedCaptcha) this.getCaptcha()\n        }\n      })\n    },\n    getCaptcha() {\n      const params = {\n        _isNeedLoading: false\n      }\n      this.$api.getCaptcha(params).then(({ head, body }) => {\n        if (head.errCode === '0000') {\n          this.loginForm.captchaId = body.captchaId\n          this.image = 'data:image/jpeg;base64,' + body.image\n        }\n      })\n    },\n    replaceNonNum(e) {\n      e.target.value = e.target.value.replace(/[^0-9]/ig, '')\n    },\n    sendCodeBefore() {\n      this.sendCodeParams.mobileNo = this.$encrypted(this.loginForm.loginName)\n    },\n    sendCallBack(messageId) {\n      this.loginForm.messageId = messageId\n    },\n    submit() {\n      if (this.validateForm) {\n        this.login(this.loginForm).then(({ head, body }) => {\n          if (head.errCode === '0000') {\n            this.$toast.success({\n              message: '登录成功',\n              callback: () => {\n                this.$router.replace(this.formPath)\n              }\n            })\n          } else {\n            this.getIsNeedCaptcha()\n          }\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  @import \"sign.scss\";\n\n  .sign-in-form {\n    &__input {\n      font-size: rem(24);\n    }\n  }\n\n  .text {\n    flex-grow: 1;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sign_in.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sign_in.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./sign_in.vue?vue&type=template&id=45121770&scoped=true&\"\nimport script from \"./sign_in.vue?vue&type=script&lang=js&\"\nexport * from \"./sign_in.vue?vue&type=script&lang=js&\"\nimport style0 from \"./sign_in.vue?vue&type=style&index=0&id=45121770&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45121770\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"seed-code border\",class:{'disabled':!_vm.enable||_vm.sending},domProps:{\"innerHTML\":_vm._s(_vm.text)},on:{\"click\":_vm.sendCode}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <button @click=\"sendCode\" v-html=\"text\"\n          :class=\"{'disabled':!enable||sending}\"\n          class=\"seed-code border\">\n  </button>\n</template>\n\n<script>\nexport default {\n  name: 'SeedCode',\n  props: {\n    enable: {\n      type: Boolean,\n      default: false\n    },\n    params: {\n      type: Object,\n      default() {\n        return {}\n      }\n    }\n  },\n  data() {\n    return {\n      duration: 60,\n      sending: false,\n      isFirstSend: true\n    }\n  },\n  computed: {\n    text() {\n      if (this.sending) {\n        return `重新发送(<span class=\"monospaced-font\">${this.duration}</span>)`\n      } else if (!this.isFirstSend) {\n        return '重新发送'\n      } else {\n        return '发送验证码'\n      }\n    }\n  },\n  methods: {\n    sendCode() {\n      if (!this.enable || this.sending) return\n      this.$emit('sendCodeBefore')\n      this.$api.sendCode(this.params).then(({ head, body }) => {\n        if (head.errCode === '0000') {\n          this.timeout()\n          this.$emit('sendCallBack', body.messageId)\n          this.$toast.success(`短信验证码已发送，${body.expire / 60}分钟内输入有效，请勿泄漏`)\n        } else {\n          this.$emit('sendCallBack', null)\n        }\n        this.isFirstSend = false\n      }).catch(() => {\n        this.$emit('sendCallBack', null)\n      })\n    },\n    timeout() {\n      this.sending = true\n      const timer = setInterval(() => {\n        this.duration--\n        if (this.duration <= 0) {\n          this.duration = 60\n          this.sending = false\n          clearInterval(timer)\n        }\n      }, 1000)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  .seed-code {\n    width: rem(100);\n    height: rem(28);\n    font-size: rem(14);\n    line-height: rem(28);\n    color: $--color-primary;\n    text-align: center;\n\n    &.disabled {\n      color: #c0c4cc;\n      border-color: #ccc;\n\n      &::after {\n        border-color: #ccc;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SeedCode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SeedCode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SeedCode.vue?vue&type=template&id=5d74652e&\"\nimport script from \"./SeedCode.vue?vue&type=script&lang=js&\"\nexport * from \"./SeedCode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SeedCode.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}